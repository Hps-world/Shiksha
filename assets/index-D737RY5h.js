(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function iT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function JA(){if(a0)return Gl;a0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var o0;function ZA(){return o0||(o0=1,xm.exports=JA()),xm.exports}var S=ZA(),Nm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function e1(){if(l0)return Se;l0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,P={};function Y(V,te,ae){this.props=V,this.context=te,this.refs=P,this.updater=ae||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ie(V,te,ae){this.props=V,this.context=te,this.refs=P,this.updater=ae||j}var he=ie.prototype=new W;he.constructor=ie,q(he,Y.prototype),he.isPureReactComponent=!0;var Ee=Array.isArray;function ve(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,te,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:te,ref:ue!==void 0?ue:null,props:ae}}function k(V,te){return C(V.type,te,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return te[ae]})}var x=/\/+/g;function ot(V,te){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):te.toString(36)}function Vt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ve,ve):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,ae,ue,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case v:return Pe=V._init,X(Pe(V._payload),te,ae,ue,Te)}}if(Pe)return Te=Te(V),Pe=ue===""?"."+ot(V,0):ue,Ee(Te)?(ae="",Pe!=null&&(ae=Pe.replace(x,"$&/")+"/"),X(Te,te,ae,"",function(Is){return Is})):Te!=null&&(D(Te)&&(Te=k(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Pe)),te.push(Te)),1;Pe=0;var kt=ue===""?".":ue+":";if(Ee(V))for(var lt=0;lt<V.length;lt++)ue=V[lt],Ce=kt+ot(ue,lt),Pe+=X(ue,te,ae,Ce,Te);else if(lt=M(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(ue=V.next()).done;)ue=ue.value,Ce=kt+ot(ue,lt++),Pe+=X(ue,te,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return X(Vt(V),te,ae,ue,Te);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(V,te,ae){if(V==null)return V;var ue=[],Te=0;return X(V,ue,"","",function(Ce){return te.call(ae,Ce,Te++)}),ue}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,te,ae){se(V,function(){te.apply(this,arguments)},ae)},count:function(V){var te=0;return se(V,function(){te++}),te},toArray:function(V){return se(V,function(te){return te})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=Ge,Se.Component=Y,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,te,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=q({},V.props),Te=V.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Pe=Array(Ce),kt=0;kt<Ce;kt++)Pe[kt]=arguments[kt+2];ue.children=Pe}return C(V.type,Te,ue)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,te,ae){var ue,Te={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=te[ue]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var kt=Array(Pe),lt=0;lt<Pe;lt++)kt[lt]=arguments[lt+2];Te.children=kt}if(V&&V.defaultProps)for(ue in Pe=V.defaultProps,Pe)Te[ue]===void 0&&(Te[ue]=Pe[ue]);return C(V,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:pe}},Se.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Se.startTransition=function(V){var te=I.T,ae={};I.T=ae;try{var ue=V(),Te=I.S;Te!==null&&Te(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,je)}catch(Ce){je(Ce)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),I.T=te}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(V){return I.H.use(V)},Se.useActionState=function(V,te,ae){return I.H.useActionState(V,te,ae)},Se.useCallback=function(V,te){return I.H.useCallback(V,te)},Se.useContext=function(V){return I.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,te){return I.H.useDeferredValue(V,te)},Se.useEffect=function(V,te){return I.H.useEffect(V,te)},Se.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(V,te,ae){return I.H.useImperativeHandle(V,te,ae)},Se.useInsertionEffect=function(V,te){return I.H.useInsertionEffect(V,te)},Se.useLayoutEffect=function(V,te){return I.H.useLayoutEffect(V,te)},Se.useMemo=function(V,te){return I.H.useMemo(V,te)},Se.useOptimistic=function(V,te){return I.H.useOptimistic(V,te)},Se.useReducer=function(V,te,ae){return I.H.useReducer(V,te,ae)},Se.useRef=function(V){return I.H.useRef(V)},Se.useState=function(V){return I.H.useState(V)},Se.useSyncExternalStore=function(V,te,ae){return I.H.useSyncExternalStore(V,te,ae)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.0",Se}var u0;function Ip(){return u0||(u0=1,Nm.exports=e1()),Nm.exports}var z=Ip();const t1=iT(z);var Dm={exports:{}},Kl={},Om={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function n1(){return c0||(c0=1,(function(r){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=X[je];if(0<o(Ge,se))X[je]=se,X[pe]=Ge,pe=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var je=0,Ge=X.length,V=Ge>>>1;je<V;){var te=2*(je+1)-1,ae=X[te],ue=te+1,Te=X[ue];if(0>o(ae,pe))ue<Ge&&0>o(Te,ae)?(X[je]=Te,X[ue]=pe,je=ue):(X[je]=ae,X[te]=pe,je=te);else if(ue<Ge&&0>o(Te,pe))X[je]=Te,X[ue]=pe,je=ue;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,A=3,M=!1,j=!1,q=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Ee(X){if(q=!1,he(X),!j)if(n(p)!==null)j=!0,ve||(ve=!0,L());else{var se=n(g);se!==null&&Vt(Ee,se.startTime-X)}}var ve=!1,I=-1,R=5,C=-1;function k(){return P?!0:!(r.unstable_now()-C<R)}function D(){if(P=!1,ve){var X=r.unstable_now();C=X;var se=!0;try{e:{j=!1,q&&(q=!1,W(I),I=-1),M=!0;var pe=A;try{t:{for(he(X),T=n(p);T!==null&&!(T.expirationTime>X&&k());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var Ge=je(T.expirationTime<=X);if(X=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,he(X),se=!0;break t}T===n(p)&&s(p),he(X)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&Vt(Ee,V.startTime-X),se=!1}}break e}finally{T=null,A=pe,M=!1}se=void 0}}finally{se?L():ve=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=D,L=function(){ot.postMessage(null)}}else L=function(){Y(D,0)};function Vt(X,se){I=Y(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return X()}finally{A=pe}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=A;A=X;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function(X,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,X={id:v++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(q?(W(I),I=-1):q=!0,Vt(Ee,pe-je))):(X.sortIndex=Ge,e(p,X),j||M||(j=!0,ve||(ve=!0,L()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var se=A;return function(){var pe=A;A=se;try{return X.apply(this,arguments)}finally{A=pe}}}})(Mm)),Mm}var h0;function i1(){return h0||(h0=1,Om.exports=n1()),Om.exports}var Vm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function r1(){if(f0)return Zt;f0=1;var r=Ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Zt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var d0;function s1(){if(d0)return Vm.exports;d0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vm.exports=r1(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function a1(){if(m0)return Kl;m0=1;var r=i1(),e=Ip(),n=s1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case Ee:return"Suspense";case ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Vt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function te(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=V(null),Te=V(null),Ce=V(null),Pe=V(null);function kt(t,i){switch(ae(Ce,i),ae(Te,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xv(i),t=Nv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),ae(ue,t)}function lt(){te(ue),te(Te),te(Ce)}function Is(t){t.memoizedState!==null&&ae(Pe,t);var i=ue.current,a=Nv(i,t.type);i!==a&&(ae(Te,t),ae(ue,a))}function Sa(t){Te.current===t&&(te(ue),te(Te)),Pe.current===t&&(te(Pe),Bl._currentValue=pe)}var wa,Aa;function di(t){if(wa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);wa=i&&i[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+t+Aa}var Bo=!1;function xs(t,i){if(!t||Bo)return"";Bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var G=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){G=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){G=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),F=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?di(a):""}function qo(t,i){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return t.child!==i&&i!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return di("Activity");default:return""}}function Ho(t){try{var i="",a=null;do i+=qo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Cr=r.unstable_cancelCallback,Df=r.unstable_shouldYield,Pu=r.unstable_requestPaint,an=r.unstable_now,Ns=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Go=r.unstable_UserBlockingPriority,Ir=r.unstable_NormalPriority,Of=r.unstable_LowPriority,Lu=r.unstable_IdlePriority,ju=r.log,zu=r.unstable_setDisableYieldValue,Wn=null,Ft=null;function Mn(t){if(typeof ju=="function"&&zu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Wn,t)}catch{}}var gt=Math.clz32?Math.clz32:qu,Bu=Math.log,Ra=Math.LN2;function qu(t){return t>>>=0,t===0?32:31-(Bu(t)/Ra|0)|0}var mi=256,Ds=262144,St=4194304;function pi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=pi(l):(_&=b,_!==0?f=pi(_):a||(a=b&~t,a!==0&&(f=pi(a))))):(b=l&~d,b!==0?f=pi(b):_!==0?f=pi(_):a||(a=l&~t,a!==0&&(f=pi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Os(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-gt(a),Z=1<<$;b[$]=0,N[$]=-1;var G=F[$];if(G!==null)for(F[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Ms(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ms(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Zv(t.type))}function Zn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ei=Math.random().toString(36).slice(2),wt="__reactFiber$"+ei,jt="__reactProps$"+ei,_i="__reactContainer$"+ei,Ca="__reactEvents$"+ei,kf="__reactListeners$"+ei,Gu="__reactHandles$"+ei,Ku="__reactResources$"+ei,vi="__reactMarker$"+ei;function Ia(t){delete t[wt],delete t[jt],delete t[Ca],delete t[kf],delete t[Gu]}function Ei(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Pv(t);t!==null;){if(a=t[wt])return a;t=Pv(t)}return i}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[wt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ti(t){var i=t[Ku];return i||(i=t[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[vi]=!0}var Yo=new Set,$o={};function bi(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for($o[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Jo={};function Qu(t){return bt.call(Jo,t)?!0:bt.call(Wo,t)?!1:Xo.test(t)?Jo[t]=!0:(Wo[t]=!0,!1)}function xa(t,i,a){if(Qu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=xr(t)?"checked":"value";t._valueTracker=Zo(t,i,""+t[i])}}function ks(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Us=/[\n"\\]/g;function cn(t){return t.replace(Us,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Na(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?el(t,_,zt(i)):a!=null?el(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function Yu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function el(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function $u(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&tl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var il=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Ai=null;function Ps(t){var i=Vn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ks(l)}break e;case"textarea":$u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Nr(t,!!a.multiple,i,!1)}}}var Ma=!1;function Vr(t,i,a){if(Ma)return t(i,a);Ma=!0;try{var l=t(i);return l}finally{if(Ma=!1,(Mr!==null||Ai!==null)&&(Fc(),Mr&&(i=Mr,t=Ai,Ai=Mr=null,Ps(i),t)))for(i=0;i<t.length;i++)Ps(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Un)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ls=!1}var Ri=null,rl=null,js=null;function sl(){if(js)return js;var t,i=rl,a=i.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return js=f.slice(t,1<l?1-l:void 0)}function zs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ii(){return!1}function Gt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ii,this.isPropagationStopped=ii,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Gt(Xi),kr=T({},Xi,{view:0,detail:0}),al=Gt(kr),Ur,Va,Ii,ka=T({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ur=t.screenX-Ii.screenX,Va=t.screenY-Ii.screenY):Va=Ur=0,Ii=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),ol=Gt(ka),Bs=T({},ka,{dataTransfer:0}),Ju=Gt(Bs),Zu=T({},kr,{relatedTarget:0}),qs=Gt(Zu),ll=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=Gt(ll),Ua=T({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tc=Gt(Ua),nc=T({},Xi,{data:0}),xi=Gt(nc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=sc[t])?!!i[t]:!1}function Pr(){return ac}var on=T({},kr,{key:function(t){if(t.key){var i=ic[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oc=Gt(on),lc=T({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Gt(lc),c=T({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),y=Gt(c),E=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Gt(E),B=T({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Gt(B),re=T({},Xi,{newState:0,oldState:0}),Ae=Gt(re),yt=[9,13,27,32],qe=Un&&"CompositionEvent"in window,ut=null;Un&&"documentMode"in document&&(ut=document.documentMode);var Pn=Un&&"TextEvent"in window&&!ut,Ni=Un&&(!qe||ut&&8<ut&&11>=ut),ri=" ",si=!1;function Hs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function bw(t,i){switch(t){case"compositionend":return Pa(i);case"keypress":return i.which!==32?null:(si=!0,ri);case"textInput":return t=i.data,t===ri&&si?null:t;default:return null}}function Sw(t,i){if(La)return t==="compositionend"||!qe&&Hs(t,i)?(t=sl(),js=rl=Ri=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ww[t.type]:i==="textarea"}function Bg(t,i,a,l){Mr?Ai?Ai.push(l):Ai=[l]:Mr=l,i=Wc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function Aw(t){Sv(t,0)}function uc(t){var i=bn(t);if(ks(i))return t}function qg(t,i){if(t==="change")return i}var Hg=!1;if(Un){var Uf;if(Un){var Pf="oninput"in document;if(!Pf){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Pf=typeof Fg.oninput=="function"}Uf=Pf}else Uf=!1;Hg=Uf&&(!document.documentMode||9<document.documentMode)}function Gg(){ul&&(ul.detachEvent("onpropertychange",Kg),cl=ul=null)}function Kg(t){if(t.propertyName==="value"&&uc(cl)){var i=[];Bg(i,cl,t,kn(t)),Vr(Aw,i)}}function Rw(t,i,a){t==="focusin"?(Gg(),ul=i,cl=a,ul.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function Cw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(cl)}function Iw(t,i){if(t==="click")return uc(i)}function xw(t,i){if(t==="input"||t==="change")return uc(i)}function Nw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:Nw;function hl(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!wn(t[f],i[f]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,i){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function $g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function Lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Dw=Un&&"documentMode"in document&&11>=document.documentMode,ja=null,jf=null,fl=null,zf=!1;function Wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zf||ja==null||ja!==wi(l)||(l=ja,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Wc(jf,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ja)))}function Fs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var za={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Bf={},Jg={};Un&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Gs(t){if(Bf[t])return Bf[t];if(!za[t])return t;var i=za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jg)return Bf[t]=i[a];return t}var Zg=Gs("animationend"),ey=Gs("animationiteration"),ty=Gs("animationstart"),Ow=Gs("transitionrun"),Mw=Gs("transitionstart"),Vw=Gs("transitioncancel"),ny=Gs("transitionend"),iy=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function ai(t,i){iy.set(t,i),bi(i,[t])}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Ba=0,Hf=0;function hc(){for(var t=Ba,i=Hf=Ba=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ry(a,f,d)}}function fc(t,i,a,l){Ln[Ba++]=t,Ln[Ba++]=i,Ln[Ba++]=a,Ln[Ba++]=l,Hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ff(t,i,a,l){return fc(t,i,a,l),dc(t)}function Ks(t,i){return fc(t,null,null,i),dc(t)}function ry(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function dc(t){if(50<Vl)throw Vl=0,Zd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qa={};function kw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,l){return new kw(t,i,a,l)}function Gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Gf(t)&&(_=1);else if(typeof t=="string")_=zA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,a,i,f),t.elementType=C,t.lanes=d,t;case q:return Qs(a.children,f,d,i);case P:_=8,f|=24;break;case Y:return t=An(12,a,i,f|2),t.elementType=Y,t.lanes=d,t;case Ee:return t=An(13,a,i,f),t.elementType=Ee,t.lanes=d,t;case ve:return t=An(19,a,i,f),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case he:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=An(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Qs(t,i,a,l){return t=An(7,t,l,i),t.lanes=a,t}function Kf(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function ay(t){var i=An(18,null,null,0);return i.stateNode=t,i}function Qf(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var oy=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=oy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ho(i)},oy.set(t,i),i)}return{value:t,source:i,stack:Ho(i)}}var Ha=[],Fa=0,pc=null,dl=0,zn=[],Bn=0,Lr=null,Di=1,Oi="";function Zi(t,i){Ha[Fa++]=dl,Ha[Fa++]=pc,pc=t,dl=i}function ly(t,i,a){zn[Bn++]=Di,zn[Bn++]=Oi,zn[Bn++]=Lr,Lr=t;var l=Di;t=Oi;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-gt(i)+f|a<<f|l,Oi=d+t}else Di=1<<d|a<<f|l,Oi=t}function Yf(t){t.return!==null&&(Zi(t,1),ly(t,1,0))}function $f(t){for(;t===pc;)pc=Ha[--Fa],Ha[Fa]=null,dl=Ha[--Fa],Ha[Fa]=null;for(;t===Lr;)Lr=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null,Di=zn[--Bn],zn[Bn]=null}function uy(t,i){zn[Bn++]=Di,zn[Bn++]=Oi,zn[Bn++]=Lr,Di=i.id,Oi=i.overflow,Lr=t}var Kt=null,tt=null,Ue=!1,jr=null,qn=!1,Xf=Error(s(519));function zr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(jn(i,t)),Xf}function cy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[jt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Ne(Ul[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Yu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Cv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||zr(t,!0)}function hy(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Kt=Kt.return}}function Ga(t){if(t!==Kt)return!1;if(!Ue)return hy(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mm(t.type,t.memoizedProps)),a=!a),a&&tt&&zr(t),hy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Uv(t)}else i===27?(i=tt,es(t.type)?(t=vm,vm=null,tt=t):tt=i):tt=Kt?Fn(t.stateNode.nextSibling):null;return!0}function Ys(){tt=Kt=null,Ue=!1}function Wf(){var t=jr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),jr=null),t}function ml(t){jr===null?jr=[t]:jr.push(t)}var Jf=V(null),$s=null,er=null;function Br(t,i,a){ae(Jf,i._currentValue),i._currentValue=a}function tr(t){t._currentValue=Jf.current,te(Jf)}function Zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ed(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Zf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Zf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ka(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;wn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Pe.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}f=f.return}t!==null&&ed(i,t,a,l),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){$s=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return fy($s,t)}function yc(t,i){return $s===null&&Xs(t),fy(t,i)}function fy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else er=er.next=i;return a}var Uw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Pw=r.unstable_scheduleCallback,Lw=r.unstable_NormalPriority,Ct={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new Uw,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&Pw(Lw,function(){t.controller.abort()})}var gl=null,nd=0,Qa=0,Ya=null;function jw(t,i){if(gl===null){var a=gl=[];nd=0,Qa=sm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nd++,i.then(dy,dy),i}function dy(){if(--nd===0&&gl!==null){Ya!==null&&(Ya.status="fulfilled");var t=gl;gl=null,Qa=0,Ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=X.S;X.S=function(t,i){W_=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jw(t,i),my!==null&&my(t,i)};var Ws=V(null);function id(){var t=Ws.current;return t!==null?t:Ze.pooledCache}function _c(t,i){i===null?ae(Ws,Ws.current):ae(Ws,i.pool)}function py(){var t=id();return t===null?null:{parent:Ct._currentValue,pool:t}}var $a=Error(s(460)),rd=Error(s(474)),vc=Error(s(542)),Ec={then:function(){}};function gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vy(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vy(t),t}throw Zs=i,$a}}function Js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,$a):a}}var Zs=null;function _y(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function vy(t){if(t===$a||t===vc)throw Error(s(483))}var Xa=null,yl=0;function Tc(t){var i=yl;return yl+=1,Xa===null&&(Xa=[]),yy(Xa,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function bc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ey(t){function i(U,O){if(t){var H=U.deletions;H===null?(U.deletions=[O],U.flags|=16):H.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Ji(U,O),U.index=0,U.sibling=null,U}function d(U,O,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<O?(U.flags|=67108866,O):H):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,O,H,J){return O===null||O.tag!==6?(O=Kf(H,U.mode,J),O.return=U,O):(O=f(O,H),O.return=U,O)}function N(U,O,H,J){var de=H.type;return de===q?$(U,O,H.props.children,J,H.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Js(de)===O.type)?(O=f(O,H.props),_l(O,H),O.return=U,O):(O=mc(H.type,H.key,H.props,null,U.mode,J),_l(O,H),O.return=U,O)}function F(U,O,H,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Qf(H,U.mode,J),O.return=U,O):(O=f(O,H.children||[]),O.return=U,O)}function $(U,O,H,J,de){return O===null||O.tag!==7?(O=Qs(H,U.mode,J,de),O.return=U,O):(O=f(O,H),O.return=U,O)}function Z(U,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kf(""+O,U.mode,H),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return H=mc(O.type,O.key,O.props,null,U.mode,H),_l(H,O),H.return=U,H;case j:return O=Qf(O,U.mode,H),O.return=U,O;case R:return O=Js(O),Z(U,O,H)}if(Vt(O)||L(O))return O=Qs(O,U.mode,H,null),O.return=U,O;if(typeof O.then=="function")return Z(U,Tc(O),H);if(O.$$typeof===ie)return Z(U,yc(U,O),H);bc(U,O)}return null}function G(U,O,H,J){var de=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:b(U,O,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===de?N(U,O,H,J):null;case j:return H.key===de?F(U,O,H,J):null;case R:return H=Js(H),G(U,O,H,J)}if(Vt(H)||L(H))return de!==null?null:$(U,O,H,J,null);if(typeof H.then=="function")return G(U,O,Tc(H),J);if(H.$$typeof===ie)return G(U,O,yc(U,H),J);bc(U,H)}return null}function Q(U,O,H,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,b(O,U,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return U=U.get(J.key===null?H:J.key)||null,N(O,U,J,de);case j:return U=U.get(J.key===null?H:J.key)||null,F(O,U,J,de);case R:return J=Js(J),Q(U,O,H,J,de)}if(Vt(J)||L(J))return U=U.get(H)||null,$(O,U,J,de,null);if(typeof J.then=="function")return Q(U,O,H,Tc(J),de);if(J.$$typeof===ie)return Q(U,O,H,yc(O,J),de);bc(O,J)}return null}function ce(U,O,H,J){for(var de=null,ze=null,fe=O,Ie=O=0,Oe=null;fe!==null&&Ie<H.length;Ie++){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Be=G(U,fe,H[Ie],J);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&i(U,fe),O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Ie===H.length)return a(U,fe),Ue&&Zi(U,Ie),de;if(fe===null){for(;Ie<H.length;Ie++)fe=Z(U,H[Ie],J),fe!==null&&(O=d(fe,O,Ie),ze===null?de=fe:ze.sibling=fe,ze=fe);return Ue&&Zi(U,Ie),de}for(fe=l(fe);Ie<H.length;Ie++)Oe=Q(fe,U,Ie,H[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ie:Oe.key),O=d(Oe,O,Ie),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function(ss){return i(U,ss)}),Ue&&Zi(U,Ie),de}function ge(U,O,H,J){if(H==null)throw Error(s(151));for(var de=null,ze=null,fe=O,Ie=O=0,Oe=null,Be=H.next();fe!==null&&!Be.done;Ie++,Be=H.next()){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var ss=G(U,fe,Be.value,J);if(ss===null){fe===null&&(fe=Oe);break}t&&fe&&ss.alternate===null&&i(U,fe),O=d(ss,O,Ie),ze===null?de=ss:ze.sibling=ss,ze=ss,fe=Oe}if(Be.done)return a(U,fe),Ue&&Zi(U,Ie),de;if(fe===null){for(;!Be.done;Ie++,Be=H.next())Be=Z(U,Be.value,J),Be!==null&&(O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return Ue&&Zi(U,Ie),de}for(fe=l(fe);!Be.done;Ie++,Be=H.next())Be=Q(fe,U,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),O=d(Be,O,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(WA){return i(U,WA)}),Ue&&Zi(U,Ie),de}function Je(U,O,H,J){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var de=H.key;O!==null;){if(O.key===de){if(de=H.type,de===q){if(O.tag===7){a(U,O.sibling),J=f(O,H.props.children),J.return=U,U=J;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Js(de)===O.type){a(U,O.sibling),J=f(O,H.props),_l(J,H),J.return=U,U=J;break e}a(U,O);break}else i(U,O);O=O.sibling}H.type===q?(J=Qs(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=mc(H.type,H.key,H.props,null,U.mode,J),_l(J,H),J.return=U,U=J)}return _(U);case j:e:{for(de=H.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(U,O.sibling),J=f(O,H.children||[]),J.return=U,U=J;break e}else{a(U,O);break}else i(U,O);O=O.sibling}J=Qf(H,U.mode,J),J.return=U,U=J}return _(U);case R:return H=Js(H),Je(U,O,H,J)}if(Vt(H))return ce(U,O,H,J);if(L(H)){if(de=L(H),typeof de!="function")throw Error(s(150));return H=de.call(H),ge(U,O,H,J)}if(typeof H.then=="function")return Je(U,O,Tc(H),J);if(H.$$typeof===ie)return Je(U,O,yc(U,H),J);bc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(U,O.sibling),J=f(O,H),J.return=U,U=J):(a(U,O),J=Kf(H,U.mode,J),J.return=U,U=J),_(U)):a(U,O)}return function(U,O,H,J){try{yl=0;var de=Je(U,O,H,J);return Xa=null,de}catch(fe){if(fe===$a||fe===vc)throw fe;var ze=An(29,fe,null,U.mode);return ze.lanes=J,ze.return=U,ze}finally{}}}var ea=Ey(!0),Ty=Ey(!1),qr=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dc(t),ry(t,null,a),i}return fc(t,l,i,a),dc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}function od(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ld=!1;function El(){if(ld){var t=Ya;if(t!==null)throw t}}function Tl(t,i,a,l){ld=!1;var f=t.updateQueue;qr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=F:b.next=F,$.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,$=F=N=null,b=d;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(De&G)===G:(l&G)===G){G!==0&&G===Qa&&(ld=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ge=b;G=i;var Je=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Z=ce.call(Je,Z,G);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,G=typeof ce=="function"?ce.call(Je,Z,G):ce,G==null)break e;Z=T({},Z,G);break e;case 2:qr=!0}}G=b.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(F=$=Q,N=Z):$=$.next=Q,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),$r|=_,t.lanes=_,t.memoizedState=Z}}function by(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)by(a[t],i)}var Wa=V(null),Sc=V(0);function wy(t,i){t=cr,ae(Sc,t),ae(Wa,i),cr=t|i.baseLanes}function ud(){ae(Sc,cr),ae(Wa,Wa.current)}function cd(){cr=Sc.current,te(Wa),te(Sc)}var Rn=V(null),Hn=null;function Gr(t){var i=t.alternate;ae(_t,_t.current&1),ae(Rn,t),Hn===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(Hn=t)}function hd(t){ae(_t,_t.current),ae(Rn,t),Hn===null&&(Hn=t)}function Ay(t){t.tag===22?(ae(_t,_t.current),ae(Rn,t),Hn===null&&(Hn=t)):Kr()}function Kr(){ae(_t,_t.current),ae(Rn,Rn.current)}function Cn(t){te(Rn),Hn===t&&(Hn=null),te(_t)}var _t=V(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ym(a)||_m(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nr=0,Re=null,Xe=null,It=null,Ac=!1,Ja=!1,ta=!1,Rc=0,bl=0,Za=null,Bw=0;function mt(){throw Error(s(321))}function fd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function dd(t,i,a,l,f,d){return nr=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?l_:Id,ta=!1,d=a(l,f),ta=!1,Ja&&(d=Cy(i,a,l,f)),Ry(t),d}function Ry(t){X.H=Al;var i=Xe!==null&&Xe.next!==null;if(nr=0,It=Xe=Re=null,Ac=!1,bl=0,Za=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&gc(t)&&(xt=!0))}function Cy(t,i,a,l){Re=t;var f=0;do{if(Ja&&(Za=null),bl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,It=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=u_,d=i(a,l)}while(Ja);return d}function qw(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function md(){var t=Rc!==0;return Rc=0,t}function pd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function gd(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}nr=0,It=Xe=Re=null,Ja=!1,bl=Rc=0,Za=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function vt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=It===null?Re.memoizedState:It.next;if(i!==null)It=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=bl;return bl+=1,Za===null&&(Za=[]),t=yy(Za,t,i),i=Re,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?l_:Id),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===ie)return Qt(t)}throw Error(s(438,String(t)))}function yd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function xc(t){var i=vt();return _d(i,Xe,t)}function _d(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,N=null,F=i,$=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(De&Z)===Z:(nr&Z)===Z){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===Qa&&($=!0);else if((nr&G)===G){F=F.next,G===Qa&&($=!0);continue}else Z={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=Z,_=d):N=N.next=Z,Re.lanes|=G,$r|=G;Z=F.action,ta&&a(d,Z),d=F.hasEagerState?F.eagerState:a(d,Z)}else G={lane:Z,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=G,_=d):N=N.next=G,Re.lanes|=Z,$r|=Z;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=b,!wn(d,t.memoizedState)&&(xt=!0,$&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vd(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);wn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Iy(t,i,a){var l=Re,f=vt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,bd(Dy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Ny.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||(nr&127)!==0||xy(l,i,a)}return a}function xy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Cc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ny(t,i,a,l){i.value=a,i.getSnapshot=l,Oy(i)&&My(t)}function Dy(t,i,a){return a(function(){Oy(i)&&My(t)})}function Oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function My(t){var i=Ks(t,2);i!==null&&gn(i,t,2)}function Ed(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),ta){Mn(!0);try{a()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function Vy(t,i,a,l){return t.baseState=a,_d(t,Xe,typeof l=="function"?l:ir)}function Hw(t,i,a,l,f){if(Oc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ky(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ky(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var b=a(f,l),N=X.S;N!==null&&N(_,b),Uy(t,i,b)}catch(F){Td(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Uy(t,i,d)}catch(F){Td(t,i,F)}}function Uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Py(t,i,l)},function(l){return Td(t,i,l)}):Py(t,i,a)}function Py(t,i,a){i.status="fulfilled",i.value=a,Ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ky(t,a)))}function Td(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ly(i),i=i.next;while(i!==l)}t.action=null}function Ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jy(t,i){return i}function zy(t,i){if(Ue){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Ue){if(tt){t:{for(var f=tt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Fn(f.nextSibling),l=f.data==="F!";break e}}zr(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:i},a.queue=l,a=s_.bind(null,Re,l),l.dispatch=a,l=Ed(!1),d=Cd.bind(null,Re,!1,l.queue),l=ln(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Hw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function By(t){var i=vt();return qy(i,Xe,t)}function qy(t,i,a){if(i=_d(t,i,jy)[0],t=xc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(_){throw _===$a?vc:_}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,eo(9,{destroy:void 0},Fw.bind(null,f,a),null)),[l,d,t]}function Fw(t,i){t.action=i}function Hy(t){var i=vt(),a=Xe;if(a!==null)return qy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function eo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Cc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Fy(){return vt().memoizedState}function Nc(t,i,a,l){var f=ln();Re.flags|=t,f.memoizedState=eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Dc(t,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&fd(l,Xe.memoizedState.deps)?f.memoizedState=eo(i,d,a,l):(Re.flags|=t,f.memoizedState=eo(1|i,d,a,l))}function Gy(t,i){Nc(8390656,8,t,i)}function bd(t,i){Dc(2048,8,t,i)}function Gw(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Cc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ky(t){var i=vt().memoizedState;return Gw({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Qy(t,i){return Dc(4,2,t,i)}function Yy(t,i){return Dc(4,4,t,i)}function $y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Xy(t,i,a){a=a!=null?a.concat([t]):null,Dc(4,4,$y.bind(null,i,t),a)}function Sd(){}function Wy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&fd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Jy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&fd(i,l[1]))return l[0];if(l=t(),ta){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l}function wd(t,i,a){return a===void 0||(nr&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Z_(),Re.lanes|=t,$r|=t,a)}function Zy(t,i,a,l){return wn(a,i)?a:Wa.current!==null?(t=wd(t,a,l),wn(t,i)||(xt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=Z_(),Re.lanes|=t,$r|=t,i)}function e_(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,Cd(t,!1,i,a);try{var N=f(),F=X.S;if(F!==null&&F(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=zw(N,l);wl(t,i,$,Nn(t))}else wl(t,i,l,Nn(t))}catch(Z){wl(t,i,{then:function(){},status:"rejected",reason:Z},Nn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function Kw(){}function Ad(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=t_(t).queue;e_(t,f,i,pe,a===null?Kw:function(){return n_(t),a(l)})}function t_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function n_(t){var i=t_(t);i.next===null&&(i=t.alternate.memoizedState),wl(t,i.next.queue,{},Nn())}function Rd(){return Qt(Bl)}function i_(){return vt().memoizedState}function r_(){return vt().memoizedState}function Qw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();t=Hr(a);var l=Fr(i,t,a);l!==null&&(gn(l,i,a),vl(l,i,a)),i={cache:td()},t.payload=i;return}i=i.return}}function Yw(t,i,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(t)?a_(i,a):(a=Ff(t,i,a,l),a!==null&&(gn(a,t,l),o_(a,i,l)))}function s_(t,i,a){var l=Nn();wl(t,i,a,l)}function wl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(t))a_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,wn(b,_))return fc(t,i,f,0),Ze===null&&hc(),!1}catch{}finally{}if(a=Ff(t,i,f,l),a!==null)return gn(a,t,l),o_(a,i,l),!0}return!1}function Cd(t,i,a,l){if(l={lane:2,revertLane:sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Oc(t)){if(i)throw Error(s(479))}else i=Ff(t,a,l,2),i!==null&&gn(i,t,2)}function Oc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function a_(t,i){Ja=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function o_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}var Al={readContext:Qt,use:Ic,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Al.useEffectEvent=mt;var l_={readContext:Qt,use:Ic,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,$y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Nc(4194308,4,t,i)},useInsertionEffect:function(t,i){Nc(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(ta){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var f=a(i);if(ta){Mn(!0);try{a(i)}finally{Mn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Yw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Ed(t);var i=t.queue,a=s_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(t,i){var a=ln();return wd(a,t,i)},useTransition:function(){var t=Ed(!1);return t=e_.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=ln();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(De&127)!==0||xy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Gy(Dy.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,{destroy:void 0},Ny.bind(null,l,d,a,i),null),a},useId:function(){var t=ln(),i=Ze.identifierPrefix;if(Ue){var a=Oi,l=Di;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Bw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Rd,useFormState:zy,useActionState:zy,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:yd,useCacheRefresh:function(){return ln().memoizedState=Qw.bind(null,Re)},useEffectEvent:function(t){var i=ln(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Id={readContext:Qt,use:Ic,useCallback:Wy,useContext:Qt,useEffect:bd,useImperativeHandle:Xy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Jy,useReducer:xc,useRef:Fy,useState:function(){return xc(ir)},useDebugValue:Sd,useDeferredValue:function(t,i){var a=vt();return Zy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=xc(ir)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Rd,useFormState:By,useActionState:By,useOptimistic:function(t,i){var a=vt();return Vy(a,Xe,t,i)},useMemoCache:yd,useCacheRefresh:r_};Id.useEffectEvent=Ky;var u_={readContext:Qt,use:Ic,useCallback:Wy,useContext:Qt,useEffect:bd,useImperativeHandle:Xy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Jy,useReducer:vd,useRef:Fy,useState:function(){return vd(ir)},useDebugValue:Sd,useDeferredValue:function(t,i){var a=vt();return Xe===null?wd(a,t,i):Zy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=vd(ir)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Rd,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,i){var a=vt();return Xe!==null?Vy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yd,useCacheRefresh:r_};u_.useEffectEvent=Ky;function xd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Nn(),f=Hr(l);f.payload=i,a!=null&&(f.callback=a),i=Fr(t,f,l),i!==null&&(gn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Nn(),f=Hr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Fr(t,f,l),i!==null&&(gn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Nn(),l=Hr(a);l.tag=2,i!=null&&(l.callback=i),i=Fr(t,l,a),i!==null&&(gn(i,t,a),vl(i,t,a))}};function c_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function h_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Nd.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function f_(t){cc(t)}function d_(t){console.error(t)}function m_(t){cc(t)}function Mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dd(t,i,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(t,i)},a}function g_(t){return t=Hr(t),t.tag=3,t}function y_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){p_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){p_(i,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function $w(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Gc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),nm(t,l,f)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),nm(t,l,f)),!1}throw Error(s(435,a.tag))}return nm(t,l,f),Gc(),!1}if(Ue)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Xf&&(t=Error(s(422),{cause:l}),ml(jn(t,a)))):(l!==Xf&&(i=Error(s(423),{cause:l}),ml(jn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=Dd(t.stateNode,l,f),od(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Ml===null?Ml=[d]:Ml.push(d),pt!==4&&(pt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Dd(a.stateNode,l,t),od(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g_(f),y_(f,t,a,l),od(a,f),!1}a=a.return}while(a!==null);return!1}var Od=Error(s(461)),xt=!1;function Yt(t,i,a,l){i.child=t===null?Ty(i,null,a,l):ea(i,t.child,a,l)}function __(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Xs(i),l=dd(t,i,a,_,d,f),b=md(),t!==null&&!xt?(pd(t,i,f),rr(t,i,f)):(Ue&&b&&Yf(i),i.flags|=1,Yt(t,i,l,f),i.child)}function v_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,E_(t,i,d,l,f)):(t=mc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!zd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&t.ref===i.ref)return rr(t,i,f)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function E_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,zd(t,f))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,rr(t,i,f)}return Md(t,i,a,l,f)}function T_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return b_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(i,d!==null?d.cachePool:null),d!==null?wy(i,d):ud(),Ay(i);else return l=i.lanes=536870912,b_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(_c(i,d.cachePool),wy(i,d),Kr(),i.memoizedState=null):(t!==null&&_c(i,null),ud(),Kr());return Yt(t,i,f,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function b_(t,i,a,l,f){var d=id();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&_c(i,null),ud(),Ay(i),t!==null&&Ka(t,i,l,!0),i.childLanes=f,null}function Vc(t,i){return i=Uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function S_(t,i,a){return ea(i,t.child,null,a),t=Vc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function Xw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Vc(i,l),i.lanes=536870912,Rl(null,t);if(hd(i),(t=tt)?(t=kv(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Lr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=i,i.child=a,Kt=i,tt=null)):t=null,t===null)throw zr(i);return i.lanes=536870912,null}return Vc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(hd(i),f)if(i.flags&256)i.flags&=-257,i=S_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||Ka(t,i,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=Ze,l!==null&&(_=Qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ks(t,_),gn(l,t,_),Od;Gc(),i=S_(t,i,a)}else t=d.treeContext,tt=Fn(_.nextSibling),Kt=i,Ue=!0,jr=null,qn=!1,t!==null&&uy(i,t),i=Vc(i,l),i.flags|=4096;return i}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Md(t,i,a,l,f){return Xs(i),a=dd(t,i,a,l,void 0,f),l=md(),t!==null&&!xt?(pd(t,i,f),rr(t,i,f)):(Ue&&l&&Yf(i),i.flags|=1,Yt(t,i,a,f),i.child)}function w_(t,i,a,l,f,d){return Xs(i),i.updateQueue=null,a=Cy(i,l,a,f),Ry(t),l=md(),t!==null&&!xt?(pd(t,i,d),rr(t,i,d)):(Ue&&l&&Yf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function A_(t,i,a,l,f){if(Xs(i),i.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Nd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,f),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=na(a,b);d.props=N;var F=d.context,$=a.contextType;_=qa,typeof $=="object"&&$!==null&&(_=Qt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&h_(i,d,l,_),qr=!1;var G=i.memoizedState;d.state=G,Tl(i,l,d,f),El(),F=i.memoizedState,b||G!==F||qr?(typeof Z=="function"&&(xd(i,a,Z,l),F=i.memoizedState),(N=qr||c_(i,a,N,l,G,F,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(t,i),_=i.memoizedProps,$=na(a,_),d.props=$,Z=i.pendingProps,G=d.context,F=a.contextType,N=qa,typeof F=="object"&&F!==null&&(N=Qt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||G!==N)&&h_(i,d,l,N),qr=!1,G=i.memoizedState,d.state=G,Tl(i,l,d,f),El();var Q=i.memoizedState;_!==Z||G!==Q||qr||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof b=="function"&&(xd(i,a,b,l),Q=i.memoizedState),($=qr||c_(i,a,$,l,G,Q,N)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ea(i,t.child,null,f),i.child=ea(i,null,a,f)):Yt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=rr(t,i,f),t}function R_(t,i,a,l){return Ys(),i.flags|=256,Yt(t,i,a,l),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(t){return{baseLanes:t,cachePool:py()}}function Ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function C_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?Gr(i):Kr(),(t=tt)?(t=kv(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Lr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=i,i.child=a,Kt=i,tt=null)):t=null,t===null)throw zr(i);return _m(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Kr(),f=i.mode,b=Uc({mode:"hidden",children:b},f),l=Qs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=kd(a),l.childLanes=Ud(t,_,a),i.memoizedState=Vd,Rl(null,l)):(Gr(i),Pd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Gr(i),i.flags&=-257,i=Ld(t,i,a)):i.memoizedState!==null?(Kr(),i.child=t.child,i.flags|=128,i=null):(Kr(),b=l.fallback,f=i.mode,l=Uc({mode:"visible",children:l.children},f),b=Qs(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ea(i,t.child,null,a),l=i.child,l.memoizedState=kd(a),l.childLanes=Ud(t,_,a),i.memoizedState=Vd,i=Rl(null,l));else if(Gr(i),_m(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=Ld(t,i,a)}else if(xt||Ka(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=Ze,_!==null&&(l=Qo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ks(t,l),gn(_,t,l),Od;ym(b)||Gc(),i=Ld(t,i,a)}else ym(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Fn(b.nextSibling),Kt=i,Ue=!0,jr=null,qn=!1,t!==null&&uy(i,t),i=Pd(i,l.children),i.flags|=4096);return i}return f?(Kr(),b=l.fallback,f=i.mode,N=t.child,F=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?b=Ji(F,b):(b=Qs(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Rl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=kd(a):(f=b.cachePool,f!==null?(N=Ct._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=py(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Ud(t,_,a),i.memoizedState=Vd,Rl(t.child,l)):(Gr(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Pd(t,i){return i=Uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Uc(t,i){return t=An(22,t,null,i),t.lanes=0,t}function Ld(t,i,a){return ea(i,t.child,null,a),t=Pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function I_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Zf(t.return,i,a)}function jd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function x_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(_t,_),Yt(t,i,l,a),l=Ue?dl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,a,i);else if(t.tag===19)I_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),jd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}jd(i,!0,a,null,d,l);break;case"together":jd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function rr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$r|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function zd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function Ww(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Br(i,Ct,t.memoizedState.cache),Ys();break;case 27:case 5:Is(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,hd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?C_(t,i,a):(Gr(i),t=rr(t,i,a),t!==null?t.sibling:null);Gr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return x_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return i.lanes=0,T_(t,i,a,i.pendingProps);case 24:Br(i,Ct,t.memoizedState.cache)}return rr(t,i,a)}function N_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!zd(t,a)&&(i.flags&128)===0)return xt=!1,Ww(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Ue&&(i.flags&1048576)!==0&&ly(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Js(i.elementType),i.type=t,typeof t=="function")Gf(t)?(l=na(t,l),i.tag=1,i=A_(null,i,t,l,a)):(i.tag=0,i=Md(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===he){i.tag=11,i=__(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=v_(null,i,t,l,a);break e}}throw i=ot(t)||t,Error(s(306,i,""))}}return i;case 0:return Md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=na(l,i.pendingProps),A_(t,i,l,f,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,ad(t,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Br(i,Ct,l),l!==d.cache&&ed(i,[Ct],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=R_(t,i,l,a);break e}else if(l!==f){f=jn(Error(s(424)),i),ml(f),i=R_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Fn(t.firstChild),Kt=i,Ue=!0,jr=null,qn=!0,a=Ty(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ys(),l===f){i=rr(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=Bv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Jc(Ce.current).createElement(a),l[wt]=i,l[jt]=t,$t(l,a,t),At(l),i.stateNode=l):i.memoizedState=Bv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Is(i),t===null&&Ue&&(l=i.stateNode=Lv(i.type,i.pendingProps,Ce.current),Kt=i,qn=!0,f=tt,es(i.type)?(vm=f,tt=Fn(l.firstChild)):tt=f),Yt(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=tt)&&(l=CA(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Kt=i,tt=Fn(l.firstChild),qn=!1,f=!0):f=!1),f||zr(i)),Is(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,mm(f,d)?l=null:_!==null&&mm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=dd(t,i,qw,null,null,a),Bl._currentValue=f),kc(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=tt)&&(a=IA(a,i.pendingProps,qn),a!==null?(i.stateNode=a,Kt=i,tt=null,t=!0):t=!1),t||zr(i)),null;case 13:return C_(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ea(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return __(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Br(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Xs(i),f=Qt(f),l=l(f),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return v_(t,i,i.type,i.pendingProps,a);case 15:return E_(t,i,i.type,i.pendingProps,a);case 19:return x_(t,i,a);case 31:return Xw(t,i,a);case 22:return T_(t,i,a,i.pendingProps);case 24:return Xs(i),l=Qt(Ct),t===null?(f=id(),f===null&&(f=Ze,d=td(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},sd(i),Br(i,Ct,f)):((t.lanes&a)!==0&&(ad(t,i),Tl(i,null,null,a),El()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Br(i,Ct,l)):(l=d.cache,Br(i,Ct,l),l!==f.cache&&ed(i,[Ct],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function sr(t){t.flags|=4}function Bd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(iv())t.flags|=8192;else throw Zs=Ec,rd}else t.flags&=-16777217}function D_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(i))if(iv())t.flags|=8192;else throw Zs=Ec,rd}function Pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Hu():536870912,t.lanes|=i,ro|=i)}function Cl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Jw(t,i,a){var l=i.pendingProps;switch($f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),tr(Ct),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(i)?sr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wf())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(sr(i),d!==null?(nt(i),D_(i,d)):(nt(i),Bd(i,f,null,l,a))):d?d!==t.memoizedState?(sr(i),nt(i),D_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(i),nt(i),Bd(i,f,t,l,a)),null;case 27:if(Sa(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Ga(i)?cy(i):(t=Lv(f,l,a),i.stateNode=t,sr(i))}return nt(i),null;case 5:if(Sa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Ga(i))cy(i);else{var _=Jc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(i)}}return nt(i),Bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ga(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||zr(i,!0)}else t=Jc(t).createTextNode(l),t[wt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ga(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ga(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Pc(i,i.updateQueue),nt(i),null);case 4:return lt(),t===null&&um(i.stateNode.containerInfo),nt(i),null;case 10:return tr(i.type),nt(i),null;case 19:if(te(_t),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,Pc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sy(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Ue&&Zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&an()>qc&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304)}else{if(!f)if(t=wc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Pc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return nt(i),null}else 2*an()-l.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=_t.current,ae(_t,f?a&1|2:a&1),Ue&&Zi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Cn(i),cd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Pc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),tr(Ct),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Zw(t,i){switch($f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return tr(Ct),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sa(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(_t),null;case 4:return lt(),null;case 10:return tr(i.type),null;case 22:case 23:return Cn(i),cd(),t!==null&&te(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return tr(Ct),null;case 25:return null;default:return null}}function O_(t,i){switch($f(i),i.tag){case 3:tr(Ct),lt();break;case 26:case 27:case 5:Sa(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:te(_t);break;case 10:tr(i.type);break;case 22:case 23:Cn(i),cd(),t!==null&&te(Ws);break;case 24:tr(Ct)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(i,i.return,b)}}function Qr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var N=a,F=b;try{F()}catch($){Ye(f,N,$)}}}l=l.next}while(l!==d)}}catch($){Ye(i,i.return,$)}}function M_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sy(i,a)}catch(l){Ye(t,t.return,l)}}}function V_(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Mi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function k_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function qd(t,i,a){try{var l=t.stateNode;TA(l,t.type,a,i),l[jt]=i}catch(f){Ye(t,t.return,f)}}function U_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Fd(t,i,a),t=t.sibling;t!==null;)Fd(t,i,a),t=t.sibling}function Lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,i,a),t=t.sibling;t!==null;)Lc(t,i,a),t=t.sibling}function P_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$t(i,l,a),i[wt]=t,i[jt]=a}catch(d){Ye(t,t.return,d)}}var ar=!1,Nt=!1,Gd=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function eA(t,i){if(t=t.containerInfo,fm=sh,t=Xg(t),Lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,F=0,$=0,Z=t,G=null;t:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(b=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)G=Z,Z=Q;for(;;){if(Z===t)break t;if(G===a&&++F===f&&(b=_),G===d&&++$===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:t,selectionRange:a},sh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=na(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function j_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&Il(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&M_(a),l&512&&xl(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&P_(a);case 26:case 5:lr(t,a),i===null&&l&4&&k_(a),l&512&&xl(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),l&4&&q_(t,a);break;case 13:lr(t,a),l&4&&H_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=uA.bind(null,a),xA(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){i=i!==null&&i.memoizedState!==null||Nt,f=ar;var d=Nt;ar=l,(Nt=i)&&!d?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=f,Nt=d}break;case 30:break;default:lr(t,a)}}function z_(t){var i=t.alternate;i!==null&&(t.alternate=null,z_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ia(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function or(t,i,a){for(a=a.child;a!==null;)B_(t,i,a),a=a.sibling}function B_(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Nt||Mi(a,i),or(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mi(a,i);var l=ct,f=fn;es(a.type)&&(ct=a.stateNode,fn=!1),or(t,i,a),Ll(a.stateNode),ct=l,fn=f;break;case 5:Nt||Mi(a,i);case 6:if(l=ct,f=fn,ct=null,or(t,i,a),ct=l,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ct!==null&&(fn?(t=ct,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):Mv(ct,a.stateNode));break;case 4:l=ct,f=fn,ct=a.stateNode.containerInfo,fn=!0,or(t,i,a),ct=l,fn=f;break;case 0:case 11:case 14:case 15:Qr(2,a,i),Nt||Qr(4,a,i),or(t,i,a);break;case 1:Nt||(Mi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V_(a,i,l)),or(t,i,a);break;case 21:or(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,or(t,i,a),Nt=l;break;default:or(t,i,a)}}function q_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){Ye(i,i.return,a)}}}function H_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){Ye(i,i.return,a)}}function tA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new L_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new L_),i;default:throw Error(s(435,t.tag))}}function jc(t,i){var a=tA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=cA.bind(null,t,l);l.then(f,f)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(es(b.type)){ct=b.stateNode,fn=!1;break e}break;case 5:ct=b.stateNode,fn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,fn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));B_(d,_,f),ct=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)F_(i,t),i=i.sibling}var oi=null;function F_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Qr(3,t,t.return),Il(3,t),Qr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Nt||a===null||Mi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(dn(i,t),mn(t),l&512&&(Nt||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[wt]=t,At(d),l=d;break e;case"link":var _=Fv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Fv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,At(d),l=d}t.stateNode=l}else Gv(f,t.type,t.stateNode);else t.stateNode=Hv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(f,t.type,t.stateNode):Hv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Nt||a===null||Mi(a,a.return)),a!==null&&l&4&&qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Nt||a===null||Mi(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,qd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Gd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(th=null,f=oi,oi=Zc(i.containerInfo),dn(i,t),oi=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Gd&&(Gd=!1,G_(t));break;case 4:l=oi,oi=Zc(t.stateNode.containerInfo),dn(i,t),mn(t),oi=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=ar,$=Nt;if(ar=F||f,Nt=$||N,dn(i,t),Nt=$,ar=F,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||ar||Nt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;f?Vv(Q,!0):Vv(N.stateNode,!1)}catch(ce){Ye(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Hd(t);Lc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var b=Hd(t);Lc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Hd(t);Fd(t,F,N);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function G_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;G_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function lr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)j_(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qr(4,i,i.return),ia(i);break;case 1:Mi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&V_(i,i.return,a),ia(i);break;case 27:Ll(i.stateNode);case 26:case 5:Mi(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(f,d,a),Il(4,d);break;case 1:if(ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Ye(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)by(N[f],b)}catch(F){Ye(l,l.return,F)}}a&&_&64&&M_(d),xl(d,d.return);break;case 27:P_(d);case 26:case 5:ur(f,d,a),a&&l===null&&_&4&&k_(d),xl(d,d.return);break;case 12:ur(f,d,a);break;case 31:ur(f,d,a),a&&_&4&&q_(f,d);break;case 13:ur(f,d,a),a&&_&4&&H_(f,d);break;case 22:d.memoizedState===null&&ur(f,d,a),xl(d,d.return);break;case 30:break;default:ur(f,d,a)}i=i.sibling}}function Kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Qd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K_(t,i,a,l),i=i.sibling}function K_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),f&2048&&Il(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){li(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else li(t,i,a,l);break;case 31:li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,l):Nl(t,i):d._visibility&2?li(t,i,a,l):(d._visibility|=2,to(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Kd(_,i);break;case 24:li(t,i,a,l),f&2048&&Qd(i.alternate,i);break;default:li(t,i,a,l)}}function to(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,b,N,f),Il(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?to(d,_,b,N,f):Nl(d,_):($._visibility|=2,to(d,_,b,N,f)),f&&F&2048&&Kd(_.alternate,_);break;case 24:to(d,_,b,N,f),f&&F&2048&&Qd(_.alternate,_);break;default:to(d,_,b,N,f)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Kd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Qd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Dl=8192;function no(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Q_(t,i,a),t=t.sibling}function Q_(t,i,a){switch(t.tag){case 26:no(t,i,a),t.flags&Dl&&t.memoizedState!==null&&BA(a,oi,t.memoizedState,t.memoizedProps);break;case 5:no(t,i,a);break;case 3:case 4:var l=oi;oi=Zc(t.stateNode.containerInfo),no(t,i,a),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,no(t,i,a),Dl=l):no(t,i,a));break;default:no(t,i,a)}}function Y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,X_(l,t)}Y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$_(t),t=t.sibling}function $_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Qr(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,zc(t)):Ol(t);break;default:Ol(t)}}function zc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,X_(l,t)}Y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qr(8,i,i.return),zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zc(i));break;default:zc(i)}t=t.sibling}}function X_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(z_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var nA={getCacheForType:function(t){var i=Qt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Ct).controller.signal}},iA=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,xe=null,De=0,Qe=0,In=null,Yr=!1,io=!1,Yd=!1,cr=0,pt=0,$r=0,ra=0,$d=0,xn=0,ro=0,Ml=null,pn=null,Xd=!1,Bc=0,W_=0,qc=1/0,Hc=null,Xr=null,Pt=0,Wr=null,so=null,hr=0,Wd=0,Jd=null,J_=null,Vl=0,Zd=null;function Nn(){return(He&2)!==0&&De!==0?De&-De:X.T!==null?sm():Fu()}function Z_(){if(xn===0)if((De&536870912)===0||Ue){var t=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),xn=t}else xn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),xn}function gn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ao(t,0),Jr(t,De,xn,!1)),Os(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(ra|=a),pt===4&&Jr(t,De,xn,!1)),Vi(t))}function ev(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),f=l?aA(t,i):tm(t,i,!0),d=l;do{if(f===0){io&&!l&&Jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!rA(a)){f=tm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Ml;var N=b.current.memoizedState.isDehydrated;if(N&&(ao(b,_).flags|=256),_=tm(b,_,!1),_!==2){if(Yd&&!N){b.errorRecoveryDisabledLanes|=d,ra|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ao(t,0),Jr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Jr(l,i,xn,!Yr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Bc+300-an(),10<f)){if(Jr(l,i,xn,!Yr),gi(l,0,!0)!==0)break e;hr=i,l.timeoutHandle=Dv(tv.bind(null,l,a,pn,Hc,Xd,i,xn,ra,ro,Yr,d,"Throttled",-0,0),f);break e}tv(l,a,pn,Hc,Xd,i,xn,ra,ro,Yr,d,null,-0,0)}}break}while(!0);Vi(t)}function tv(t,i,a,l,f,d,_,b,N,F,$,Z,G,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Q_(i,d,Z);var ce=(d&62914560)===d?Bc-an():(d&4194048)===d?W_-an():0;if(ce=qA(Z,ce),ce!==null){hr=d,t.cancelPendingCommit=ce(uv.bind(null,t,i,d,a,l,f,_,b,N,$,Z,null,G,Q)),Jr(t,d,_,!F);return}}uv(t,i,d,a,l,f,_,b,N)}function rA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(t,i,a,l){i&=~$d,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ms(t,a,i)}function Fc(){return(He&6)===0?(kl(0),!1):!0}function em(){if(xe!==null){if(Qe===0)var t=xe.return;else t=xe,er=$s=null,gd(t),Xa=null,yl=0,t=xe;for(;t!==null;)O_(t.alternate,t),t=t.return;xe=null}}function ao(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,em(),Ze=t,xe=a=Ji(t.current,null),De=i,Qe=0,In=null,Yr=!1,io=Jn(t,i),Yd=!1,ro=xn=$d=ra=$r=pt=0,pn=Ml=null,Xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),d=1<<f;i|=t[f],l&=~d}return cr=i,hc(),a}function nv(t,i){Re=null,X.H=Al,i===$a||i===vc?(i=_y(),Qe=3):i===rd?(i=_y(),Qe=4):Qe=i===Od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,xe===null&&(pt=1,Mc(t,jn(i,t.current)))}function iv(){var t=Rn.current;return t===null?!0:(De&4194048)===De?Hn===null:(De&62914560)===De||(De&536870912)!==0?t===Hn:!1}function rv(){var t=X.H;return X.H=Al,t===null?Al:t}function sv(){var t=X.A;return X.A=nA,t}function Gc(){pt=4,Yr||(De&4194048)!==De&&Rn.current!==null||(io=!0),($r&134217727)===0&&(ra&134217727)===0||Ze===null||Jr(Ze,De,xn,!1)}function tm(t,i,a){var l=He;He|=2;var f=rv(),d=sv();(Ze!==t||De!==i)&&(Hc=null,ao(t,i)),i=!1;var _=pt;e:do try{if(Qe!==0&&xe!==null){var b=xe,N=In;switch(Qe){case 8:em(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var F=Qe;if(Qe=0,In=null,oo(t,b,N,F),a&&io){_=0;break e}break;default:F=Qe,Qe=0,In=null,oo(t,b,N,F)}}sA(),_=pt;break}catch($){nv(t,$)}while(!0);return i&&t.shellSuspendCounter++,er=$s=null,He=l,X.H=f,X.A=d,xe===null&&(Ze=null,De=0,hc()),_}function sA(){for(;xe!==null;)av(xe)}function aA(t,i){var a=He;He|=2;var l=rv(),f=sv();Ze!==t||De!==i?(Hc=null,qc=an()+500,ao(t,i)):io=Jn(t,i);e:do try{if(Qe!==0&&xe!==null){i=xe;var d=In;t:switch(Qe){case 1:Qe=0,In=null,oo(t,i,d,1);break;case 2:case 9:if(gy(d)){Qe=0,In=null,ov(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Vi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:gy(d)?(Qe=0,In=null,ov(i)):(Qe=0,In=null,oo(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var b=xe;if(_?Kv(_):b.stateNode.complete){Qe=0,In=null;var N=b.sibling;if(N!==null)xe=N;else{var F=b.return;F!==null?(xe=F,Kc(F)):xe=null}break t}}Qe=0,In=null,oo(t,i,d,5);break;case 6:Qe=0,In=null,oo(t,i,d,6);break;case 8:em(),pt=6;break e;default:throw Error(s(462))}}oA();break}catch($){nv(t,$)}while(!0);return er=$s=null,X.H=l,X.A=f,He=a,xe!==null?0:(Ze=null,De=0,hc(),pt)}function oA(){for(;xe!==null&&!Df();)av(xe)}function av(t){var i=N_(t.alternate,t,cr);t.memoizedProps=t.pendingProps,i===null?Kc(t):xe=i}function ov(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=w_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=w_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:gd(i);default:O_(a,i),i=xe=sy(i,cr),i=N_(a,i,cr)}t.memoizedProps=t.pendingProps,i===null?Kc(t):xe=i}function oo(t,i,a,l){er=$s=null,gd(i),Xa=null,yl=0;var f=i.return;try{if($w(t,f,i,a,De)){pt=1,Mc(t,jn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;pt=1,Mc(t,jn(a,t.current)),xe=null;return}i.flags&32768?(Ue||l===1?t=!0:io||(De&536870912)!==0?t=!1:(Yr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(i,t)):Kc(i)}function Kc(t){var i=t;do{if((i.flags&32768)!==0){lv(i,Yr);return}t=i.return;var a=Jw(i.alternate,i,cr);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);pt===0&&(pt=5)}function lv(t,i){do{var a=Zw(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);pt=6,xe=null}function uv(t,i,a,l,f,d,_,b,N){t.cancelPendingCommit=null;do Qc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Hf,Vf(t,a,d,_,b,N),t===Ze&&(xe=Ze=null,De=0),so=i,Wr=t,hr=a,Wd=d,Jd=f,J_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hA(Ir,function(){return mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=He,He|=4;try{eA(t,i,a)}finally{He=_,se.p=f,X.T=l}}Pt=1,cv(),hv(),fv()}}function cv(){if(Pt===1){Pt=0;var t=Wr,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{F_(i,t);var d=dm,_=Xg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&$g(b.ownerDocument.documentElement,b)){if(N!==null&&Lf(b)){var F=N.start,$=N.end;if($===void 0&&($=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ce=b.textContent.length,ge=Math.min(N.start,ce),Je=N.end===void 0?ge:Math.min(N.end,ce);!Q.extend&&ge>Je&&(_=Je,Je=ge,ge=_);var U=Yg(b,ge),O=Yg(b,Je);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var H=Z.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),ge>Je?(Q.addRange(H),Q.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),Q.addRange(H))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var J=Z[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}sh=!!fm,dm=fm=null}finally{He=f,se.p=l,X.T=a}}t.current=i,Pt=2}}function hv(){if(Pt===2){Pt=0;var t=Wr,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{j_(t,i.alternate,i)}finally{He=f,se.p=l,X.T=a}}Pt=3}}function fv(){if(Pt===4||Pt===3){Pt=0,Pu();var t=Wr,i=so,a=hr,l=J_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,so=Wr=null,dv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xr=null),Yi(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=i,se.p=f}}(hr&3)!==0&&Qc(),Vi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Zd?Vl++:(Vl=0,Zd=t):Vl=0,kl(0)}}function dv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Qc(){return cv(),hv(),fv(),mv()}function mv(){if(Pt!==5)return!1;var t=Wr,i=Wd;Wd=0;var a=Yi(hr),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=Jd,Jd=null;var d=Wr,_=hr;if(Pt=0,so=Wr=null,hr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,$_(d.current),K_(d,d.current,_,a),He=b,kl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{se.p=f,X.T=l,dv(t,i)}}function pv(t,i,a){i=jn(a,i),i=Dd(t.stateNode,i,2),t=Fr(t,i,2),t!==null&&(Os(t,2),Vi(t))}function Ye(t,i,a){if(t.tag===3)pv(t,t,a);else for(;i!==null;){if(i.tag===3){pv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){t=jn(a,t),a=g_(2),l=Fr(i,a,2),l!==null&&(y_(a,l,i,t),Os(l,2),Vi(l));break}}i=i.return}}function nm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new iA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Yd=!0,f.add(a),t=lA.bind(null,t,i,a),i.then(t,t))}function lA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(pt===4||pt===3&&(De&62914560)===De&&300>an()-Bc?(He&2)===0&&ao(t,0):$d|=a,ro===De&&(ro=0)),Vi(t)}function gv(t,i){i===0&&(i=Hu()),t=Ks(t,i),t!==null&&(Os(t,i),Vi(t))}function uA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),gv(t,a)}function cA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),gv(t,a)}function hA(t,i){return Ut(t,i)}var Yc=null,lo=null,im=!1,$c=!1,rm=!1,Zr=0;function Vi(t){t!==lo&&t.next===null&&(lo===null?Yc=lo=t:lo=lo.next=t),$c=!0,im||(im=!0,dA())}function kl(t,i){if(!rm&&$c){rm=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ev(l,d))}else d=De,d=gi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,Ev(l,d));l=l.next}while(a);rm=!1}}function fA(){yv()}function yv(){$c=im=!1;var t=0;Zr!==0&&SA()&&(t=Zr);for(var i=an(),a=null,l=Yc;l!==null;){var f=l.next,d=_v(l,i);d===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(lo=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=f}Pt!==0&&Pt!==5||kl(t),Zr!==0&&(Zr=0)}function _v(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Mf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=Ze,a=De,a=gi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Cr(l),Yi(a)){case 2:case 8:a=Go;break;case 32:a=Ir;break;case 268435456:a=Lu;break;default:a=Ir}return l=vv.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc()&&t.callbackNode!==a)return null;var l=De;return l=gi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ev(t,l,i),_v(t,an()),t.callbackNode!=null&&t.callbackNode===a?vv.bind(null,t):null)}function Ev(t,i){if(Qc())return null;ev(t,i,!0)}function dA(){AA(function(){(He&6)!==0?Ut(Fo,fA):yv()})}function sm(){if(Zr===0){var t=Qa;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Zr=t}return Zr}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function bv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function mA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Tv((f[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?Tv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ci("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var N=_?bv(f,_):new FormData(f);Ad(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?bv(f,_):new FormData(f),Ad(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var am=0;am<qf.length;am++){var om=qf[am],pA=om.toLowerCase(),gA=om[0].toUpperCase()+om.slice(1);ai(pA,"on"+gA)}ai(Zg,"onAnimationEnd"),ai(ey,"onAnimationIteration"),ai(ty,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Ow,"onTransitionRun"),ai(Mw,"onTransitionStart"),ai(Vw,"onTransitionCancel"),ai(ny,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Sv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,F=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch($){cc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,F=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch($){cc($)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ca];a===void 0&&(a=i[Ca]=new Set);var l=t+"__bubble";a.has(l)||(wv(i,t,2,!1),a.add(l))}function lm(t,i,a){var l=0;i&&(l|=4),wv(a,t,l,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[Xc]){t[Xc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||lm(a,!1,t),lm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,lm("selectionchange",!1,i))}}function wv(t,i,a,l){switch(Zv(i)){case 2:var f=GA;break;case 8:f=KA;break;default:f=wm}a=f.bind(null,i,a,t),f=void 0,!Ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function cm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ei(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Vr(function(){var F=d,$=kn(a),Z=[];e:{var G=iy.get(t);if(G!==void 0){var Q=Ci,ce=t;switch(t){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":Q=oc;break;case"focusin":ce="focus",Q=qs;break;case"focusout":ce="blur",Q=qs;break;case"beforeblur":case"afterblur":Q=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Zg:case ey:case ty:Q=ec;break;case ny:Q=w;break;case"scroll":case"scrollend":Q=al;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=Ae}var ge=(i&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),U=ge?G!==null?G+"Capture":null:G;ge=[];for(var O=F,H;O!==null;){var J=O;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=ni(O,U),J!=null&&ge.push(Pl(O,J,H))),Je)break;O=O.return}0<ge.length&&(G=new Q(G,ce,null,a,$),Z.push({event:G,listeners:ge}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==il&&(ce=a.relatedTarget||a.fromElement)&&(Ei(ce)||ce[_i]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=F,ce=ce?Ei(ce):null,ce!==null&&(Je=u(ce),ge=ce.tag,ce!==Je||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=F),Q!==ce)){if(ge=ol,J="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Wi,J="onPointerLeave",U="onPointerEnter",O="pointer"),Je=Q==null?G:bn(Q),H=ce==null?G:bn(ce),G=new ge(J,O+"leave",Q,a,$),G.target=Je,G.relatedTarget=H,J=null,Ei($)===F&&(ge=new ge(U,O+"enter",ce,a,$),ge.target=H,ge.relatedTarget=Je,J=ge),Je=J,Q&&ce)t:{for(ge=_A,U=Q,O=ce,H=0,J=U;J;J=ge(J))H++;J=0;for(var de=O;de;de=ge(de))J++;for(;0<H-J;)U=ge(U),H--;for(;0<J-H;)O=ge(O),J--;for(;H--;){if(U===O||O!==null&&U===O.alternate){ge=U;break t}U=ge(U),O=ge(O)}ge=null}else ge=null;Q!==null&&Av(Z,G,Q,ge,!1),ce!==null&&Je!==null&&Av(Z,Je,ce,ge,!0)}}e:{if(G=F?bn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ze=qg;else if(zg(G))if(Hg)ze=xw;else{ze=Cw;var fe=Rw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Da(F.elementType)&&(ze=qg):ze=Iw;if(ze&&(ze=ze(t,F))){Bg(Z,ze,a,$);break e}fe&&fe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&el(G,"number",G.value)}switch(fe=F?bn(F):window,t){case"focusin":(zg(fe)||fe.contentEditable==="true")&&(ja=fe,jf=F,fl=null);break;case"focusout":fl=jf=ja=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Wg(Z,a,$);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Wg(Z,a,$)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else La?Hs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ni&&a.locale!=="ko"&&(La||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&La&&(Ie=sl()):(Ri=$,rl="value"in Ri?Ri.value:Ri.textContent,La=!0)),fe=Wc(F,Oe),0<fe.length&&(Oe=new xi(Oe,t,null,a,$),Z.push({event:Oe,listeners:fe}),Ie?Oe.data=Ie:(Ie=Pa(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Pn?bw(t,a):Sw(t,a))&&(Oe=Wc(F,"onBeforeInput"),0<Oe.length&&(fe=new xi("onBeforeInput","beforeinput",null,a,$),Z.push({event:fe,listeners:Oe}),fe.data=Ie)),mA(Z,t,F,a,$)}Sv(Z,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=ni(t,i),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function _A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,F=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||F===null||(N=F,f?(F=ni(a,d),F!=null&&_.unshift(Pl(a,F,N))):f||(F=ni(a,d),F!=null&&_.push(Pl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var vA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(EA,"")}function Cv(t,i){return i=Rv(i),Rv(t)===i}function We(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),xa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wu.get(a)||a,xa(t,a,l))}}function hm(t,i,a,l,f,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xa(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=d=_=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}Yu(t,d,b,N,F,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Nr(t,!!l,i,!1):a!=null&&Nr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,i,_,b,a,null)}Dr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ne(Ul[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,F,l,a,null)}return;default:if(Da(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&hm(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,i,b,l,a,null))}function TA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,F=null,$=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,Z)}}for(var G in l){var Q=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(Q!=null||Z!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&We(t,i,G,Q,l,Z)}}Na(t,_,b,N,F,$,d,f);return;case"select":Q=_=b=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||We(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&We(t,i,f,d,l,N)}i=b,a=_,l=Q,G!=null?Nr(t,!!a,G,!1):!!l!=!!a&&(i!=null?Nr(t,!!a,i,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,i,_,f,l,d)}$u(t,G,Q);return;case"option":for(var ce in a)if(G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,i,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(t,i,F,G,l,Q)}return;default:if(Da(i)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&hm(t,i,Je,void 0,l,G);for($ in l)G=l[$],Q=a[$],!l.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||hm(t,i,$,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G==null&&Q==null||We(t,i,Z,G,l,Q)}function Iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Iv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>b)break;var $=N.transferSize,Z=N.initiatorType;$&&Iv(Z)&&(N=N.responseEnd,_+=$*(N<b?1:(b-F)/(N-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fm=null,dm=null;function Jc(t){return t.nodeType===9?t:t.ownerDocument}function xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function mm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pm=null;function SA(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(RA)}:Dv;function RA(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function Mv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),fo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);fo(i)}function Vv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gm(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function CA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function IA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function kv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function ym(t){return t.data==="$?"||t.data==="$~"}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var vm=null;function Uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Pv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Lv(t,i,a){switch(i=Jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ia(t)}var Gn=new Map,jv=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=se.d;se.d={f:NA,r:DA,D:OA,C:MA,L:VA,m:kA,X:PA,S:UA,M:LA};function NA(){var t=fr.f(),i=Fc();return t||i}function DA(t){var i=Vn(t);i!==null&&i.tag===5&&i.type==="form"?n_(i):fr.r(t)}var uo=typeof document>"u"?null:document;function zv(t,i,a){var l=uo;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),jv.has(f)||(jv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),$t(i,"link",t),At(i),l.head.appendChild(i)))}}function OA(t){fr.D(t),zv("dns-prefetch",t,null)}function MA(t,i){fr.C(t,i),zv("preconnect",t,i)}function VA(t,i,a){fr.L(t,i,a);var l=uo;if(l&&t&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(i){case"style":d=co(t);break;case"script":d=ho(t)}Gn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(zl(d))||(i=l.createElement("link"),$t(i,"link",t),At(i),l.head.appendChild(i)))}}function kA(t,i){fr.m(t,i);var a=uo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function UA(t,i,a){fr.S(t,i,a);var l=uo;if(l&&t){var f=Ti(l).hoistableStyles,d=co(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(jl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&Em(t,a);var N=_=l.createElement("link");At(N),$t(N,"link",t),N._p=new Promise(function(F,$){N.onload=F,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function PA(t,i){fr.X(t,i);var a=uo;if(a&&t){var l=Ti(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0},i),(i=Gn.get(f))&&Tm(t,i),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function LA(t,i){fr.M(t,i);var a=uo;if(a&&t){var l=Ti(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Gn.get(f))&&Tm(t,i),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bv(t,i,a,l){var f=(f=Ce.current)?Zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=Ti(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=Ti(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||jA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(a),a=Ti(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+cn(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function qv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function jA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),At(i),t.head.appendChild(i))}function ho(t){return'[src="'+cn(t)+'"]'}function zl(t){return"script[async]"+t}function Hv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",f),eh(l,a.precedence,t),i.instance=l;case"stylesheet":f=co(a.href);var d=t.querySelector(jl(f));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=qv(a),(f=Gn.get(f))&&Em(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),$t(d,"link",l),i.state.loading|=4,eh(d,a.precedence,t),i.instance=d;case"script":return d=ho(a.src),(f=t.querySelector(zl(d)))?(i.instance=f,At(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),$t(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,t));return i.instance}function eh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var th=null;function Fv(t,i,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[vi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function zA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=co(l.href),d=i.querySelector(jl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=nh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=qv(l),(f=Gn.get(f))&&Em(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var bm=0;function qA(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&bm===0&&(bm=62500*bA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>bm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,i.forEach(HA,t),ih=null,nh.call(t))}function HA(t,i){if(!(i.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function FA(t,i,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Qv(t,i,a,l,f,d,_,b,N,F,$,Z){return t=new FA(t,i,a,_,N,F,$,Z,b),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=td(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},sd(d),t}function Yv(t){return t?(t=qa,t):qa}function $v(t,i,a,l,f,d){f=Yv(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(t,l,i),a!==null&&(gn(a,t,i),vl(a,t,i))}function Xv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sm(t,i){Xv(t,i),(t=t.alternate)&&Xv(t,i)}function Wv(t){if(t.tag===13||t.tag===31){var i=Ks(t,67108864);i!==null&&gn(i,t,67108864),Sm(t,67108864)}}function Jv(t){if(t.tag===13||t.tag===31){var i=Nn();i=Vs(i);var a=Ks(t,i);a!==null&&gn(a,t,i),Sm(t,i)}}var sh=!0;function GA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,wm(t,i,a,l)}finally{se.p=d,X.T=f}}function KA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,wm(t,i,a,l)}finally{se.p=d,X.T=f}}function wm(t,i,a,l){if(sh){var f=Am(l);if(f===null)cm(t,i,l,ah,a),e0(t,l);else if(YA(f,t,i,a,l))l.stopPropagation();else if(e0(t,l),i&4&&-1<QA.indexOf(t)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-gt(_);b.entanglements[1]|=N,_&=~N}Vi(d),(He&6)===0&&(qc=an()+500,kl(0))}}break;case 31:case 13:b=Ks(d,2),b!==null&&gn(b,d,2),Fc(),Sm(d,2)}if(d=Am(l),d===null&&cm(t,i,l,ah,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else cm(t,i,l,null,a)}}function Am(t){return t=kn(t),Rm(t)}var ah=null;function Rm(t){if(ah=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ah=t,null}function Zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Fo:return 2;case Go:return 8;case Ir:case Of:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var Cm=!1,ts=null,ns=null,is=null,ql=new Map,Hl=new Map,rs=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Vn(i),i!==null&&Wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function YA(t,i,a,l,f){switch(i){case"focusin":return ts=Fl(ts,t,i,a,l,f),!0;case"dragenter":return ns=Fl(ns,t,i,a,l,f),!0;case"mouseover":return is=Fl(is,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Fl(ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Fl(Hl.get(d)||null,t,i,a,l,f)),!0}return!1}function t0(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){Jv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){Jv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=Vn(a),i!==null&&Wv(i),t.blockedOn=a,!1;i.shift()}return!0}function n0(t,i,a){oh(t)&&a.delete(i)}function $A(){Cm=!1,ts!==null&&oh(ts)&&(ts=null),ns!==null&&oh(ns)&&(ns=null),is!==null&&oh(is)&&(is=null),ql.forEach(n0),Hl.forEach(n0)}function lh(t,i){t.blockedOn===i&&(t.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var uh=null;function i0(t){uh!==t&&(uh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(i,3),i-=3,Ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fo(t){function i(N){return lh(N,t)}ts!==null&&lh(ts,t),ns!==null&&lh(ns,t),is!==null&&lh(is,t),ql.forEach(i),Hl.forEach(i);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)t0(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||i0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)b=_.formAction;else if(Rm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),i0(a)}}}function r0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Im(t){this._internalRoot=t}ch.prototype.render=Im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Nn();$v(a,l,t,i,null,null)},ch.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$v(t.current,2,null,t,null,null),Fc(),i[_i]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<rs.length&&i!==0&&i<rs[a].priority;a++);rs.splice(a,0,t),a===0&&t0(t)}};var s0=e.version;if(s0!=="19.2.0")throw Error(s(527,s0,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Wn=hh.inject(XA),Ft=hh}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=f_,d=d_,_=m_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Qv(t,1,!1,null,null,a,l,null,f,d,_,r0),t[_i]=i.current,um(t),new Im(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=f_,_=d_,b=m_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Qv(t,1,!0,i,a??null,l,f,N,d,_,b,r0),i.context=Yv(null),a=i.current,l=Nn(),l=Vs(l),f=Hr(l),f.callback=null,Fr(a,f,l),a=l,i.current.lanes=a,Os(i,a),Vi(i),t[_i]=i.current,um(t),new ch(i)},Kl.version="19.2.0",Kl}var p0;function o1(){if(p0)return Dm.exports;p0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=a1(),Dm.exports}var l1=o1();const u1=iT(l1);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g0="popstate";function c1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Jm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lu(o)}return f1(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function y0(r,e){return{usr:r.state,key:r.key,idx:e}}function Jm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||s||h1()}}function lu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Oo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function f1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=v(),Y=P==null?null:P-g;g=P,p&&p({action:m,location:q.location,delta:Y})}function A(P,Y){m="PUSH";let W=Jm(q.location,P,Y);g=v()+1;let ie=y0(W,g),he=q.createHref(W);try{h.pushState(ie,"",he)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(he)}u&&p&&p({action:m,location:q.location,delta:1})}function M(P,Y){m="REPLACE";let W=Jm(q.location,P,Y);g=v();let ie=y0(W,g),he=q.createHref(W);h.replaceState(ie,"",he),u&&p&&p({action:m,location:q.location,delta:0})}function j(P){return d1(P)}let q={get action(){return m},get location(){return r(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(g0,T),p=P,()=>{o.removeEventListener(g0,T),p=null}},createHref(P){return e(o,P)},createURL:j,encodeLocation(P){let Y=j(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:M,go(P){return h.go(P)}};return q}function d1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rT(r,e,n="/"){return m1(r,e,n,!1)}function m1(r,e,n,s){let o=typeof e=="string"?Oo(e):e,u=Tr(o.pathname||"/",n);if(u==null)return null;let h=sT(r);p1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=R1(u);m=w1(h[p],g,s)}return m}function sT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=yr([s,v.relativePath]),A=n.concat(v);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),sT(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:b1(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of aT(h.path))u(h,m,!0,p)}),e}function aT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=aT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function p1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:S1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var g1=/^:[\w-]+$/,y1=3,_1=2,v1=1,E1=10,T1=-2,_0=r=>r==="*";function b1(r,e){let n=r.split("/"),s=n.length;return n.some(_0)&&(s+=T1),e&&(s+=_1),n.filter(o=>!_0(o)).reduce((o,u)=>o+(g1.test(u)?y1:u===""?v1:E1),s)}function S1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function w1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:yr([u,T.pathname]),pathnameBase:N1(yr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=yr([u,T.pathnameBase]))}return h}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=A1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},A)=>{if(v==="*"){let j=m[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?g[v]=void 0:g[v]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function A1(r,e=!1,n=!0){Hi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function R1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function C1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Oo(r):r;return{pathname:n?n.startsWith("/")?n:I1(n,e):e,search:D1(s),hash:O1(o)}}function I1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oT(r){let e=x1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lT(r,e,n,s=!1){let o;typeof r=="string"?o=Oo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=C1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var yr=r=>r.join("/").replace(/\/\/+/g,"/"),N1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function M1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uT=["POST","PUT","PATCH","DELETE"];new Set(uT);var V1=["GET",...uT];new Set(V1);var Mo=z.createContext(null);Mo.displayName="DataRouter";var rf=z.createContext(null);rf.displayName="DataRouterState";z.createContext(!1);var cT=z.createContext({isTransitioning:!1});cT.displayName="ViewTransition";var k1=z.createContext(new Map);k1.displayName="Fetchers";var U1=z.createContext(null);U1.displayName="Await";var Gi=z.createContext(null);Gi.displayName="Navigation";var Eu=z.createContext(null);Eu.displayName="Location";var Ki=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var xp=z.createContext(null);xp.displayName="RouteError";function P1(r,{relative:e}={}){ht(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Gi),{hash:o,pathname:u,search:h}=bu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Tu(){return z.useContext(Eu)!=null}function ya(){return ht(Tu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Eu).location}var hT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fT(r){z.useContext(Gi).static||z.useLayoutEffect(r)}function Xn(){let{isDataRoute:r}=z.useContext(Ki);return r?W1():L1()}function L1(){ht(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Mo),{basename:e,navigator:n}=z.useContext(Gi),{matches:s}=z.useContext(Ki),{pathname:o}=ya(),u=JSON.stringify(oT(s)),h=z.useRef(!1);return fT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Hi(h.current,hT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=lT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}z.createContext(null);function j1(){let{matches:r}=z.useContext(Ki),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:n}=z.useContext(Ki),{pathname:s}=ya(),o=JSON.stringify(oT(n));return z.useMemo(()=>lT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function z1(r,e){return dT(r,e)}function dT(r,e,n,s,o){ht(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Gi),{matches:h}=z.useContext(Ki),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";mT(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=ya(),M;if(e){let W=typeof e=="string"?Oo(e):e;ht(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=A;let j=M.pathname||"/",q=j;if(v!=="/"){let W=v.replace(/^\//,"").split("/");q="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let P=rT(r,{pathname:q});Hi(T||P!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Hi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=G1(P&&P.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:yr([v,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:yr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return e&&Y?z.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function B1(){let r=X1(),e=M1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var q1=z.createElement(B1,null),H1=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Ki.Provider,{value:this.props.routeContext},z.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F1({routeContext:r,match:e,children:n}){let s=z.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ki.Provider,{value:r},n)}function G1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:A}=n,M=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||M){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let A,M=!1,j=null,q=null;n&&(A=h&&v.route.id?h[v.route.id]:void 0,j=v.route.errorElement||q1,m&&(p<0&&T===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,q=null):p===T&&(M=!0,q=v.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,T+1)),Y=()=>{let W;return A?W=j:M?W=q:v.route.Component?W=z.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,z.createElement(F1,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:W})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?z.createElement(H1,{location:n.location,revalidation:n.revalidation,component:j,error:A,children:Y(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K1(r){let e=z.useContext(Mo);return ht(e,Np(r)),e}function Q1(r){let e=z.useContext(rf);return ht(e,Np(r)),e}function Y1(r){let e=z.useContext(Ki);return ht(e,Np(r)),e}function Dp(r){let e=Y1(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function $1(){return Dp("useRouteId")}function X1(){let r=z.useContext(xp),e=Q1("useRouteError"),n=Dp("useRouteError");return r!==void 0?r:e.errors?.[n]}function W1(){let{router:r}=K1("useNavigate"),e=Dp("useNavigate"),n=z.useRef(!1);return fT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Hi(n.current,hT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var v0={};function mT(r,e,n){!e&&!v0[r]&&(v0[r]=!0,Hi(!1,n))}z.memo(J1);function J1({routes:r,future:e,state:n,unstable_onError:s}){return dT(r,void 0,n,s,e)}function yn(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Oo(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:A="default"}=n,M=z.useMemo(()=>{let j=Tr(p,h);return j==null?null:{location:{pathname:j,search:g,hash:v,state:T,key:A},navigationType:s}},[h,p,g,v,T,A,s]);return Hi(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Gi.Provider,{value:m},z.createElement(Eu.Provider,{children:e,value:M}))}function eR({children:r,location:e}){return z1(Zm(r),e)}function Zm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Zm(s.props.children,u));return}ht(s.type===yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Zm(s.props.children,u)),n.push(h)}),n}var Th="get",bh="application/x-www-form-urlencoded";function sf(r){return r!=null&&typeof r.tagName=="string"}function tR(r){return sf(r)&&r.tagName.toLowerCase()==="button"}function nR(r){return sf(r)&&r.tagName.toLowerCase()==="form"}function iR(r){return sf(r)&&r.tagName.toLowerCase()==="input"}function rR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sR(r,e){return r.button===0&&(!e||e==="_self")&&!rR(r)}var fh=null;function aR(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var oR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(r){return r!=null&&!oR.has(r)?(Hi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):r}function lR(r,e){let n,s,o,u,h;if(nR(r)){let m=r.getAttribute("action");s=m?Tr(m,e):null,n=r.getAttribute("method")||Th,o=Um(r.getAttribute("enctype"))||bh,u=new FormData(r)}else if(tR(r)||iR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Tr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Th,o=Um(r.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||bh,u=new FormData(m,r),!aR()){let{name:g,type:v,value:T}=r;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=bh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Tr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function cR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await cR(u,n);return h.links?h.links():[]}return[]}));return gR(s.flat(1).filter(hR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function E0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dR(r,e,{includeHydrateFallback:n}={}){return mR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mR(r){return[...new Set(r)]}function pR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(pR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function pT(){let r=z.useContext(Mo);return Op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yR(){let r=z.useContext(rf);return Op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mp=z.createContext(void 0);Mp.displayName="FrameworkContext";function gT(){let r=z.useContext(Mp);return Op(r,"You must render this element inside a <HydratedRouter> element"),r}function _R(r,e){let n=z.useContext(Mp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=Y=>{Y.forEach(W=>{h(W.isIntersecting)})},P=new IntersectionObserver(q,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[r]),z.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let M=()=>{o(!0)},j=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ql(m,M),onBlur:Ql(p,j),onMouseEnter:Ql(g,M),onMouseLeave:Ql(v,j),onTouchStart:Ql(T,M)}]:[!1,A,{}]}function Ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function vR({page:r,...e}){let{router:n}=pT(),s=z.useMemo(()=>rT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(TR,{page:r,matches:s,...e}):null}function ER(r){let{manifest:e,routeModules:n}=gT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return fR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function TR({page:r,matches:e,...n}){let s=ya(),{manifest:o,routeModules:u}=gT(),{basename:h}=pT(),{loaderData:m,matches:p}=yR(),g=z.useMemo(()=>E0(r,e,p,o,s,"data"),[r,e,p,o,s]),v=z.useMemo(()=>E0(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,q=!1;if(e.forEach(Y=>{let W=o.routes[Y.route.id];!W||!W.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||W.hasClientLoader?q=!0:j.add(Y.route.id))}),j.size===0)return[];let P=uR(r,h,"data");return q&&j.size>0&&P.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,e,r,u]),A=z.useMemo(()=>dR(v,o),[v,o]),M=ER(v);return z.createElement(z.Fragment,null,T.map(j=>z.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),A.map(j=>z.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),M.map(({key:j,link:q})=>z.createElement("link",{key:j,nonce:n.nonce,...q})))}function bR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yT&&(window.__reactRouterVersion="7.9.5")}catch{}function SR({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=c1({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(Z1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...A},M){let{basename:j}=z.useContext(Gi),q=typeof g=="string"&&_T.test(g),P,Y=!1;if(typeof g=="string"&&q&&(P=g,yT))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=Tr(k.pathname,j);k.origin===C.origin&&D!=null?g=D+k.search+k.hash:Y=!0}catch{Hi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=P1(g,{relative:o}),[ie,he,Ee]=_R(s,A),ve=CR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function I(C){e&&e(C),C.defaultPrevented||ve(C)}let R=z.createElement("a",{...A,...Ee,href:P||W,onClick:Y||u?e:I,ref:bR(M,he),target:p,"data-discover":!q&&n==="render"?"true":void 0});return ie&&!q?z.createElement(z.Fragment,null,R,z.createElement(vR,{page:W})):R});it.displayName="Link";var wR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=bu(h,{relative:g.relative}),A=ya(),M=z.useContext(rf),{navigator:j,basename:q}=z.useContext(Gi),P=M!=null&&OR(T)&&m===!0,Y=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,W=A.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&q&&(ie=Tr(ie,q)||ie);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Ee=W===Y||!o&&W.startsWith(Y)&&W.charAt(he)==="/",ve=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),I={isActive:Ee,isPending:ve,isTransitioning:P},R=Ee?e:void 0,C;typeof s=="function"?C=s(I):C=[s,Ee?"active":null,ve?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(I):u;return z.createElement(it,{...g,"aria-current":R,className:C,ref:v,style:k,to:h,viewTransition:m},typeof p=="function"?p(I):p)});wR.displayName="NavLink";var AR=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Th,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...A},M)=>{let j=NR(),q=DR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&_T.test(m),W=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,Ee=he?.getAttribute("formmethod")||h;j(he||ie.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:M,method:P,action:q,onSubmit:s?p:W,...A,"data-discover":!Y&&r==="render"?"true":void 0})});AR.displayName="Form";function RR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=z.useContext(Mo);return ht(e,RR(r)),e}function CR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Xn(),p=ya(),g=bu(r,{relative:u});return z.useCallback(v=>{if(sR(v,e)){v.preventDefault();let T=n!==void 0?n:lu(p)===lu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var IR=0,xR=()=>`__${String(++IR)}__`;function NR(){let{router:r}=vT("useSubmit"),{basename:e}=z.useContext(Gi),n=$1();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=lR(s,e);if(o.navigate===!1){let v=o.fetcherKey||xR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function DR(r,{relative:e}={}){let{basename:n}=z.useContext(Gi),s=z.useContext(Ki);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},h=ya();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),lu(u)}function OR(r,{relative:e}={}){let n=z.useContext(cT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=bu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}const MR=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(n[v],n[T],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ET(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new kR;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UR=function(r){const e=ET(r);return TT.encodeByteArray(e,!0)},Vh=function(r){return UR(r).replace(/\./g,"")},bT=function(r){try{return TT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>PR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof T0>"u")return;const r=T0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bT(r[1]);return e&&JSON.parse(e)},af=()=>{try{return MR()||LR()||jR()||zR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ST=r=>af()?.emulatorHosts?.[r],wT=r=>{const e=ST(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AT=()=>af()?.config,RT=r=>af()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Vh(JSON.stringify(n)),Vh(JSON.stringify(h)),""].join(".")}const tu={};function qR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function HR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let b0=!1;function kp(r,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||tu[r]===e||tu[r]||b0)return;tu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=qR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{b0=!0,h()},A}function v(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=HR(s),M=n("text"),j=document.getElementById(M)||document.createElement("span"),q=n("learnmore"),P=document.getElementById(q)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),v(P,q);const he=g();p(W,Y),ie.append(W,j,P,he),document.body.appendChild(ie)}u?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function GR(){const r=af()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function JR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZR,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?eC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,s)}}function eC(r,e){return r.replace(tC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tC=/\{\$([^}]+)}/g;function nC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ca(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(S0(u)&&S0(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function S0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function iC(r,e){const n=new rC(r,e);return n.subscribe.bind(n)}class rC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(r){return r&&r._delegate?r._delegate:r}class gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new BR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oC(r){return r===sa?void 0:r}function lC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const cC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},hC=Me.INFO,fC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},dC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=hC,this._logHandler=dC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mC=(r,e)=>e.some(n=>r instanceof n);let w0,A0;function pC(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,ep=new WeakMap,xT=new WeakMap,Lm=new WeakMap,Pp=new WeakMap;function yC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(fs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,r)}).catch(()=>{}),Pp.set(e,r),e}function _C(r){if(ep.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ep.set(r,e)}let tp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ep.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vC(r){tp=r(tp)}function EC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(jm(this),e,...n);return xT.set(s,e.sort?e.sort():[e]),fs(s)}:gC().includes(r)?function(...e){return r.apply(jm(this),e),fs(IT.get(this))}:function(...e){return fs(r.apply(jm(this),e))}}function TC(r){return typeof r=="function"?EC(r):(r instanceof IDBTransaction&&_C(r),mC(r,pC())?new Proxy(r,tp):r)}function fs(r){if(r instanceof IDBRequest)return yC(r);if(Lm.has(r))return Lm.get(r);const e=TC(r);return e!==r&&(Lm.set(r,e),Pp.set(e,r)),e}const jm=r=>Pp.get(r);function bC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const SC=["get","getKey","getAll","getAllKeys","count"],wC=["put","add","delete","clear"],zm=new Map;function R0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return zm.set(e,u),u}vC(r=>({...r,get:(e,n,s)=>R0(e,n)||r.get(e,n,s),has:(e,n)=>!!R0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RC(r){return r.getComponent()?.type==="VERSION"}const np="@firebase/app",C0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Up("@firebase/app"),CC="@firebase/app-compat",IC="@firebase/analytics-compat",xC="@firebase/analytics",NC="@firebase/app-check-compat",DC="@firebase/app-check",OC="@firebase/auth",MC="@firebase/auth-compat",VC="@firebase/database",kC="@firebase/data-connect",UC="@firebase/database-compat",PC="@firebase/functions",LC="@firebase/functions-compat",jC="@firebase/installations",zC="@firebase/installations-compat",BC="@firebase/messaging",qC="@firebase/messaging-compat",HC="@firebase/performance",FC="@firebase/performance-compat",GC="@firebase/remote-config",KC="@firebase/remote-config-compat",QC="@firebase/storage",YC="@firebase/storage-compat",$C="@firebase/firestore",XC="@firebase/ai",WC="@firebase/firestore-compat",JC="firebase",ZC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",eI={[np]:"fire-core",[CC]:"fire-core-compat",[xC]:"fire-analytics",[IC]:"fire-analytics-compat",[DC]:"fire-app-check",[NC]:"fire-app-check-compat",[OC]:"fire-auth",[MC]:"fire-auth-compat",[VC]:"fire-rtdb",[kC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[PC]:"fire-fn",[LC]:"fire-fn-compat",[jC]:"fire-iid",[zC]:"fire-iid-compat",[BC]:"fire-fcm",[qC]:"fire-fcm-compat",[HC]:"fire-perf",[FC]:"fire-perf-compat",[GC]:"fire-rc",[KC]:"fire-rc-compat",[QC]:"fire-gcs",[YC]:"fire-gcs-compat",[$C]:"fire-fst",[WC]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[JC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,tI=new Map,rp=new Map;function I0(r,e){try{r.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ha(r){const e=r.name;if(rp.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,r);for(const n of kh.values())I0(n,r);for(const n of tI.values())I0(n,r);return!0}function of(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function En(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Su("app","Firebase",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=ZC;function NT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:ip,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=AT()),!n)throw ds.create("no-options");const u=kh.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new uC(o);for(const p of rp.values())h.addComponent(p);const m=new iI(n,s,h);return kh.set(o,m),m}function Lp(r=ip){const e=kh.get(r);if(!e&&r===ip&&AT())return NT();if(!e)throw ds.create("no-app",{appName:r});return e}function Pi(r,e,n){let s=eI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(h.join(" "));return}ha(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebase-heartbeat-database",sI=1,uu="firebase-heartbeat-store";let Bm=null;function DT(){return Bm||(Bm=bC(rI,sI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function aI(r){try{const n=(await DT()).transaction(uu),s=await n.objectStore(uu).get(OT(r));return await n.done,s}catch(e){if(e instanceof Qi)br.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}}async function x0(r,e){try{const s=(await DT()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,OT(r)),await s.done}catch(n){if(n instanceof Qi)br.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});br.warn(s.message)}}}function OT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,lI=30;class uI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lI){const o=fI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:n,unsentEntries:s}=cI(this._heartbeatsCache.heartbeats),o=Vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return br.warn(e),""}}}function N0(){return new Date().toISOString().substring(0,10)}function cI(r,e=oI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),D0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),D0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?JR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function D0(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function fI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){ha(new gs("platform-logger",e=>new AC(e),"PRIVATE")),ha(new gs("heartbeat",e=>new uI(e),"PRIVATE")),Pi(np,C0,r),Pi(np,C0,"esm2020"),Pi("fire-js","")}dI("");function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mI=MT,VT=new Su("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Up("@firebase/auth");function pI(r,...e){Uh.logLevel<=Me.WARN&&Uh.warn(`Auth (${_a}): ${r}`,...e)}function Sh(r,...e){Uh.logLevel<=Me.ERROR&&Uh.error(`Auth (${_a}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw zp(r,...e)}function ci(r,...e){return zp(r,...e)}function jp(r,e,n){const s={...mI(),[e]:n};return new Su("auth","Firebase",s).create(e,{appName:r.name})}function _r(r){return jp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Yn(r,"argument-error"),jp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VT.create(r,...e)}function ye(r,e,...n){if(!r)throw zp(e,...n)}function pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Sr(r,e){r||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function yI(){return O0()==="http:"||O0()==="https:"}function O0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yI()||QR()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||YR()}get(){return _I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){Sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new Au(3e4,6e4);function ws(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rr(r,e,n,s,o={}){return UT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=wu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return KR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ss(r.emulatorConfig.host)&&(g.credentials="include"),kT.fetch()(await PT(r,r.config.apiHost,n,m),g)})}async function UT(r,e,n){r._canInitEmulator=!1;const s={...EI,...e};try{const o=new wI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw dh(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jp(r,v,g);Yn(r,v)}}catch(o){if(o instanceof Qi)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function Ru(r,e,n,s,o={}){const u=await Rr(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Bp(r.config,o):`${r.config.apiScheme}://${o}`;return TI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function SI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),bI.get())})}}function dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(r,e,s);return o.customData._tokenResponse=n,o}function M0(r){return r!==void 0&&r.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RI(r,e){return Rr(r,"GET","/v2/recaptchaConfig",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,e){return Rr(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return Rr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function II(r,e=!1){const n=st(r),s=await n.getIdToken(e),o=qp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:nu(qm(o.auth_time)),issuedAtTime:nu(qm(o.iat)),expirationTime:nu(qm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qm(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bT(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V0(r){const e=qp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&xI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){const e=r.auth,n=await r.getIdToken(),s=await wo(r,Ph(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?LT(o.providerUserInfo):[],h=OI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function DI(r){const e=st(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(r,e){const n=await UT(r,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await PT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ss(r.emulatorConfig.host)&&(p.credentials="include"),kT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VI(r,e){return Rr(r,"POST","/v2/accounts:revokeToken",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=V0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new vo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new NI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return II(this,e)}reload(){return DI(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await wo(this,CI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:j,stsTokenManager:q}=n;ye(T&&q,e,"internal-error");const P=vo.fromJSON(this.name,q);ye(typeof T=="string",e,"internal-error"),as(s,e.name),as(o,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof M=="boolean",e,"internal-error"),as(u,e.name),as(h,e.name),as(m,e.name),as(p,e.name),as(g,e.name),as(v,e.name);const Y=new ui({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(Y.providerData=j.map(W=>({...W}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function gr(r){Sr(r instanceof Function,"Expected a class definition");let e=k0.get(r);return e?(Sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,k0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const U0=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(gr(U0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gr(U0);const h=wh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const A=await Ph(e,{idToken:v}).catch(()=>{});if(!A)break;T=await ui._fromGetAccountInfoResponse(e,A,v)}else T=ui._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GT(e))return"Blackberry";if(KT(e))return"Webos";if(BT(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(FT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function zT(r=sn()){return/firefox\//i.test(r)}function BT(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(r=sn()){return/crios\//i.test(r)}function HT(r=sn()){return/iemobile/i.test(r)}function FT(r=sn()){return/android/i.test(r)}function GT(r=sn()){return/blackberry/i.test(r)}function KT(r=sn()){return/webos/i.test(r)}function Hp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kI(r=sn()){return Hp(r)&&!!window.navigator?.standalone}function UI(){return $R()&&document.documentMode===10}function QT(r=sn()){return Hp(r)||FT(r)||KT(r)||GT(r)||/windows phone/i.test(r)||HT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e=[]){let n;switch(r){case"Browser":n=P0(sn());break;case"Worker":n=`${P0(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e={}){return Rr(r,"GET","/v2/passwordPolicy",ws(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=6;class zI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L0(this),this.idTokenSubscription=new L0(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(_r(this));const n=e?st(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LI(this),n=new zI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function As(r){return st(r)}class L0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qI(r){lf=r}function $T(r){return lf.loadJS(r)}function HI(){return lf.recaptchaEnterpriseScript}function FI(){return lf.gapiScript}function GI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class KI{constructor(){this.enterprise=new QI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YI="recaptcha-enterprise",XT="NO_RECAPTCHA";class $I{constructor(e){this.type=YI,this.auth=As(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{RI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new AI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;M0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(XT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&M0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HI();p.length!==0&&(p+=m),$T(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function j0(r,e,n,s=!1,o=!1){const u=new $I(r);let h;if(o)h=XT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function op(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await j0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await j0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r,e){const n=of(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function WI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function JI(r,e,n){const s=As(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=WT(e),{host:h,port:m}=ZI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(ca(g,s.config.emulator)&&ca(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ss(h)?(Vp(`${u}//${h}${p}`),kp("Auth",!0)):e2()}function WT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZI(r){const e=WT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:z0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:z0(h)}}}function z0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function e2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function t2(r,e){return Rr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,e){return Ru(r,"POST","/v1/accounts:signInWithPassword",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}async function r2(r,e){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,n,"signInWithPassword",n2);case"emailLink":return i2(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,s,"signUpPassword",t2);case"emailLink":return r2(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r,e){return Ru(r,"POST","/v1/accounts:signInWithIdp",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class fa extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new fa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o2(r){const e=$l(Xl(r)).link,n=e?$l(Xl(e)).deep_link_id:null,s=$l(Xl(r)).deep_link_id;return(s?$l(Xl(s)).link:null)||s||n||e||r}class Gp{constructor(e){const n=$l(Xl(e)),s=n.apiKey??null,o=n.oobCode??null,u=a2(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=o2(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return ye(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Cu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Cu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Cu{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,e){return Ru(r,"POST","/v1/accounts:signUp",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=B0(s);return new da({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=B0(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function B0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jh(e,n,s,o)}}function JT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,u,e,s):u})}async function u2(r,e,n=!1){const s=await wo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return da._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e,n=!1){const{auth:s}=r;if(En(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await wo(r,JT(s,o,e,r),n);ye(u.idToken,s,"internal-error");const h=qp(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),da._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r,e,n=!1){if(En(r.app))return Promise.reject(_r(r));const s="signIn",o=await JT(r,s,e),u=await da._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function h2(r,e){return ZT(As(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(r){const e=As(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tb(r,e,n){if(En(r.app))return Promise.reject(_r(r));const s=As(r),h=await op(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eb(r),p}),m=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function nb(r,e,n){return En(r.app)?Promise.reject(_r(r)):h2(st(r),Vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eb(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,e){return Rr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=st(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await wo(s,f2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function d2(r,e,n,s){return st(r).onIdTokenChanged(e,n,s)}function m2(r,e,n){return st(r).beforeAuthStateChanged(e,n)}function p2(r,e,n,s){return st(r).onAuthStateChanged(e,n,s)}function rb(r){return st(r).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,y2=10;class ab extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);UI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,y2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const _2=ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ob.type="SESSION";const lb=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await v2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Qp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function T2(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){return navigator?.serviceWorker?.controller||null}function w2(){return ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebaseLocalStorageDb",A2=1,Bh="firebaseLocalStorage",hb="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(r,e){return r.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function R2(){const r=indexedDB.deleteDatabase(cb);return new Iu(r).toPromise()}function lp(){const r=indexedDB.open(cb,A2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bh,{keyPath:hb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await R2(),e(await lp()))})})}async function q0(r,e,n){const s=cf(r,!0).put({[hb]:e,value:n});return new Iu(s).toPromise()}async function C2(r,e){const n=cf(r,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function H0(r,e){const n=cf(r,!0).delete(e);return new Iu(n).toPromise()}const I2=800,x2=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>x2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(w2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await q0(e,zh,"1"),await H0(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>C2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const N2=fb;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,e){return e?gr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D2(r){return ZT(r.auth,new Yp(r),r.bypassAuthState)}function O2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),c2(n,new Yp(r),r.bypassAuthState)}async function M2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),u2(n,new Yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:Yn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Au(2e3,1e4);async function k2(r,e,n){if(En(r.app))return Promise.reject(ci(r,"operation-not-supported-in-this-environment"));const s=As(r);gI(r,e,Kp);const o=db(s,n);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends mb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V2.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="pendingRedirect",Ah=new Map;class P2 extends mb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(r,e){const n=B2(e),s=z2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function j2(r,e){Ah.set(r._key(),e)}function z2(r){return gr(r._redirectPersistence)}function B2(r){return wh(U2,r.config.apiKey,r.name)}async function q2(r,e,n=!1){if(En(r.app))return Promise.reject(_r(r));const s=As(r),o=db(s,e),h=await new P2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=600*1e3;class F2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H2&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function G2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e={}){return Rr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function $2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await K2(r);for(const n of e)try{if(X2(n))return}catch{}Yn(r,"unauthorized-domain")}function X2(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!Y2.test(n))return!1;if(Q2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Au(3e4,6e4);function G0(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function J2(r){return new Promise((e,n)=>{function s(){G0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G0(),n(ci(r,"network-request-failed"))},timeout:W2.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=GI("iframefcb");return Li()[o]=()=>{gapi.load?s():n(ci(r,"network-request-failed"))},$T(`${FI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function Z2(r){return Rh=Rh||J2(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Au(5e3,15e3),tx="__/auth/iframe",nx="emulator/auth/iframe",ix={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sx(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Bp(e,nx):`https://${r.config.authDomain}/${tx}`,s={apiKey:e.apiKey,appName:r.name,v:_a},o=rx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function ax(r){const e=await Z2(r),n=Li().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:sx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ix,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ci(r,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},ex.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ux=600,cx="_blank",hx="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fx(r,e,n,s=lx,o=ux){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...ox,width:s.toString(),height:o.toString(),top:u,left:h},g=sn().toLowerCase();n&&(m=qT(g)?cx:n),zT(g)&&(e=e||hx,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[M,j])=>`${A}${M}=${j},`,"");if(kI(g)&&m!=="_self")return dx(e||"",m),new K0(null);const T=window.open(e||"",m,v);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new K0(T)}function dx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="__/auth/handler",px="emulator/auth/handler",gx=encodeURIComponent("fac");async function Q0(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof Kp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",nC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Cu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${gx}=${encodeURIComponent(p)}`:"";return`${yx(r)}?${wu(m).slice(1)}${g}`}function yx({config:r}){return r.emulator?Bp(r,px):`https://${r.authDomain}/${mx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=q2,this._overrideRedirectResult=j2}async _openPopup(e,n,s,o){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Q0(e,n,s,sp(),o);return fx(e,u,Qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Q0(e,n,s,sp(),o);return T2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ax(e),s=new F2(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},o=>{const u=o?.[0]?.[Hm];u!==void 0&&n(!!u),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QT()||BT()||Hp()}}const vx=_x;var Y0="@firebase/auth",$0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(r){ha(new gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},g=new BI(s,o,u,p);return WI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new gs("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(s=>new Ex(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(Y0,$0,Tx(r)),Pi(Y0,$0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=300,wx=RT("authIdTokenMaxAge")||Sx;let X0=null;const Ax=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wx)return;const o=n?.token;X0!==o&&(X0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rx(r=Lp()){const e=of(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XI(r,{popupRedirectResolver:vx,persistence:[N2,_2,lb]}),s=RT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ax(u.toString());m2(n,h,()=>h(n.currentUser)),d2(n,m=>h(m))}}const o=ST("auth");return o&&JI(n,`http://${o}`),n}function Cx(){return document.getElementsByTagName("head")?.[0]??document}qI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Cx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,gb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,D,L){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return R.prototype[D].apply(k,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)k[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],D=I.g[2];let L=I.g[3],x;x=R+(L^C&(D^L))+k[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(D^R&(C^D))+k[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(C^L&(R^C))+k[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(R^D&(L^R))+k[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=R+(L^C&(D^L))+k[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(D^R&(C^D))+k[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(C^L&(R^C))+k[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(R^D&(L^R))+k[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=R+(L^C&(D^L))+k[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(D^R&(C^D))+k[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(C^L&(R^C))+k[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(R^D&(L^R))+k[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=R+(L^C&(D^L))+k[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(D^R&(C^D))+k[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(C^L&(R^C))+k[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(R^D&(L^R))+k[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=R+(D^L&(C^D))+k[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(R^C))+k[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^C&(L^R))+k[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(D^L))+k[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(C^D))+k[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(R^C))+k[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^C&(L^R))+k[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(D^L))+k[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(C^D))+k[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(R^C))+k[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^C&(L^R))+k[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(D^L))+k[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(C^D))+k[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(R^C))+k[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^C&(L^R))+k[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(D^L))+k[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=R+(C^D^L)+k[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^D)+k[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^C)+k[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^R)+k[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=R+(C^D^L)+k[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^D)+k[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^C)+k[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^R)+k[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=R+(C^D^L)+k[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^D)+k[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^C)+k[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^R)+k[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=R+(C^D^L)+k[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^D)+k[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^C)+k[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^R)+k[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=R+(D^(C|~L))+k[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~D))+k[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~C))+k[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~R))+k[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=R+(D^(C|~L))+k[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~D))+k[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~C))+k[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~R))+k[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=R+(D^(C|~L))+k[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~D))+k[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~C))+k[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~R))+k[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=R+(D^(C|~L))+k[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~D))+k[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~C))+k[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=C;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(k[D++]=I.charCodeAt(L++),D==this.blockSize){o(this,k),D=0;break}}else for(;L<R;)if(k[D++]=I[L++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[R++]=this.g[C]>>>k&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let k=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;k&&L==R||(C[D]=L,k=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return P(g(-I));const R=[];let C=1;for(let k=0;I>=C;k++)R[k]=I/C|0,C*=4294967296;return new h(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let k=T;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const x=parseInt(I.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),k=k.j(D).add(g(x))):(k=k.j(C),k=k.add(g(x)))}return k}var T=p(0),A=p(1),M=p(16777216);r=h.prototype,r.m=function(){if(q(this))return-P(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(q(this))return"-"+P(this).toString(I);const R=g(Math.pow(I,6));var C=this;let k="";for(;;){const D=he(C,R).g;C=Y(C,D.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,j(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function q(I){return I.h==-1}r.l=function(I){return I=Y(this,I),q(I)?-1:j(I)?0:1};function P(I){const R=I.g.length,C=[];for(let k=0;k<R;k++)C[k]=~I.g[k];return new h(C,~I.h).add(A)}r.abs=function(){return q(this)?P(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let D=0;D<=R;D++){let L=k+(this.i(D)&65535)+(I.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=x>>>16,L&=65535,x&=65535,C[D]=x<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Y(I,R){return I.add(P(R))}r.j=function(I){if(j(this)||j(I))return T;if(q(this))return q(I)?P(this).j(P(I)):P(P(this).j(I));if(q(I))return P(this.j(P(I)));if(this.l(M)<0&&I.l(M)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const L=this.i(k)>>>16,x=this.i(k)&65535,ot=I.i(D)>>>16,Vt=I.i(D)&65535;C[2*k+2*D]+=x*Vt,W(C,2*k+2*D),C[2*k+2*D+1]+=L*Vt,W(C,2*k+2*D+1),C[2*k+2*D+1]+=x*ot,W(C,2*k+2*D+1),C[2*k+2*D+2]+=L*ot,W(C,2*k+2*D+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function W(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ie(I,R){this.g=I,this.h=R}function he(I,R){if(j(R))throw Error("division by zero");if(j(I))return new ie(T,T);if(q(I))return R=he(P(I),R),new ie(P(R.g),P(R.h));if(q(R))return R=he(I,P(R)),new ie(P(R.g),R.h);if(I.g.length>30){if(q(I)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=R;k.l(I)<=0;)C=Ee(C),k=Ee(k);var D=ve(C,1),L=ve(k,1);for(k=ve(k,2),C=ve(C,2);!j(k);){var x=L.add(k);x.l(I)<=0&&(D=D.add(C),L=x),k=ve(k,1),C=ve(C,1)}return R=Y(I,D.j(R)),new ie(D,R)}for(D=T;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=g(C),x=L.j(R);q(x)||x.l(I)>0;)C-=k,L=g(C),x=L.j(R);j(L)&&(L=A),D=D.add(L),I=Y(I,x)}return new ie(D,I)}r.B=function(I){return he(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&I.i(k);return new h(C,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|I.i(k);return new h(C,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^I.i(k);return new h(C,this.h^I.h)};function Ee(I){const R=I.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new h(C,I.h)}function ve(I,R){const C=R>>5;R%=32;const k=I.g.length-C,D=[];for(let L=0;L<k;L++)D[L]=R>0?I.i(L+C)>>>R|I.i(L+C+1)<<32-R:I.i(L+C);return new h(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ms=h}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yb,Wl,_b,Ch,up,vb,Eb,Tb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in E))break e;E=E[B]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,B,K){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[B].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function j(c,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const K=B.length||0;c.length=E+K;for(let re=0;re<K;re++)c[E+re]=B[re]}else c.push(B)}}class q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const w=ie.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new q(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ve=!1,I=new W,R=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=Y();){try{c.h.call(c.g)}catch(E){P(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ve=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ot(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ot,D),ot.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,E,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=B,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)c[E]=w[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,w,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=Ce(c,y,w,B);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new se(y,this.src,K,!!w,B),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var w=c.g[E],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(w,B,1),K&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,w){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return B}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),kt={};function lt(c,y,E,w,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(c,y[K],E,w,B);return null}return E=Ho(E),c&&c[Vt]?c.J(y,E,m(w)?!!w.capture:!1,B):Is(c,y,E,!1,w,B)}function Is(c,y,E,w,B,K){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let Ae=xs(c);if(Ae||(c[Pe]=Ae=new ue(c)),E=Ae.add(y,E,w,re,K),E.proxy)return E;if(w=Sa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)L||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(di(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sa(){function c(E){return y.call(c.src,c.listener,E)}const y=Bo;return c}function wa(c,y,E,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)wa(c,y[K],E,w,B);else w=m(w)?!!w.capture:!!w,E=Ho(E),c&&c[Vt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,w,B),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=xs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,w,B)),(E=c>-1?y[c]:null)&&Aa(E))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Te(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(di(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=xs(y))?(Te(E,c),E.h==0&&(E.src=null,y[Pe]=null)):pe(c)}}}function di(c){return c in kt?kt[c]:kt[c]="on"+c}function Bo(c,y){if(c.da)c=!0;else{y=new ot(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Aa(c),c=E.call(w,y)}return c}function xs(c){return c=c[Pe],c instanceof ue?c:null}var qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function bt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}T(bt,k),bt.prototype[Vt]=!0,bt.prototype.removeEventListener=function(c,y,E,w){wa(this,c,y,E,w)};function Ut(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(w,c),ae(y,B)}B=!0;let K,re;if(E)for(re=E.length-1;re>=0;re--)K=y.g=E[re],B=Cr(K,w,!0,y)&&B;if(K=y.g=c,B=Cr(K,w,!0,y)&&B,B=Cr(K,w,!1,y)&&B,E)for(re=0;re<E.length;re++)K=y.g=E[re],B=Cr(K,w,!1,y)&&B}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)pe(E[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},bt.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Cr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==E){const Ae=re.listener,yt=re.ha||re.src;re.fa&&Te(c.i,re),B=Ae.call(yt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Pu(c){c.g=Df(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){k.call(this),this.h=c,this.g={}}T(Ns,k);var Fo=[];function Go(c){je(c.g,function(y,E){this.g.hasOwnProperty(E)&&Aa(y)},c),c.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),Go(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=h.JSON.stringify,Of=h.JSON.parse,Lu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ju(){}function zu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}T(Ft,D);function Mn(){D.call(this,"c")}T(Mn,D);var gt={},Bu=null;function Ra(){return Bu=Bu||new bt}gt.Ia="serverreachability";function qu(c){D.call(this,gt.Ia,c)}T(qu,D);function mi(c){const y=Ra();Ut(y,new qu(y))}gt.STAT_EVENT="statevent";function Ds(c,y){D.call(this,gt.STAT_EVENT,c),this.stat=y}T(Ds,D);function St(c){const y=Ra();Ut(y,new Ds(y,c))}gt.Ja="timingevent";function pi(c,y){D.call(this,gt.Ja,c),this.size=y}T(pi,D);function gi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Mf(c,y,E,w,B,K){c.info(function(){if(c.g)if(K){var re="",Ae=K.split("&");for(let qe=0;qe<Ae.length;qe++){var yt=Ae[qe].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const Pn=ut.split("_");re=Pn.length>=2&&Pn[1]=="type"?re+(ut+"="+yt+"&"):re+(ut+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+E+`
`+re})}function Hu(c,y,E,w,B,K,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+re})}function yi(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vf(c,E)+(w?" "+w:"")})}function Os(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function Vf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return Ir(K)}catch{return y}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Vs(){}T(Vs,ju),Vs.prototype.g=function(){return new XMLHttpRequest},Qo=new Vs;function Yi(c){return encodeURIComponent(String(c))}function Fu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Zn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var wt={},jt={};function _i(c,y,E){c.M=1,c.A=ks(Rt(y)),c.u=E,c.R=!0,Ca(c,null)}function Ca(c,y){c.F=Date.now(),vi(c),c.B=Rt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Da(E.i,"t",w),c.C=0,E=c.j.L,c.h=new ei,c.g=sc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new an(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Fo[0]=B.toString()),B=Fo);for(let K=0;K<B.length;K++){const re=lt(E,B[K],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mi(),Mf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ii(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=ii(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ae!=4||yt==7||(yt==8||qe<=0?mi(3):mi(2)),Ei(this);var y=this.g.ca();this.X=y;var E=kf(this);if(this.o=y==200,Hu(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var K=w;break t}}K=null}if(c=K)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,St(12),bn(this),Vn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Ku(this,E),ut==jt){Ae==4&&(this.m=4,St(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,St(15),yi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ut,null),Ti(this,ut);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ll(re),re.P=!0,St(11))}}else yi(this.i,this.l,E,null),Ti(this,E);Ae==4&&bn(this),this.o&&!this.K&&(Ae==4?tc(this.j,this):(this.o=!1,vi(this)))}else Xi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),bn(this),Vn(this)}}}catch{}finally{}};function kf(c){if(!Gu(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let E="";const w=y.length,B=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Vn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(B&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ku(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?jt:(E=Number(y.substring(E,w)),isNaN(E)?wt:(w+=1,w+E>y.length?jt:(y=y.slice(w,w+E),c.C=w+E,y)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function vi(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(g(c.aa,c),y)}function Ei(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Os(this.i,this.B),this.M!=2&&(mi(),St(17)),bn(this),this.m=2,Vn(this)):Ia(this,this.T-c)};function Vn(c){c.j.I==0||c.K||tc(c.j,c)}function bn(c){Ei(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Go(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ti(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Si(E.h,c))){if(!c.L&&Si(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ua(E),Ur(E);else break e;qs(E),St(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gi(g(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((c.L||E.g==c)&&Ua(E),!x(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let qe=B[y];const ut=qe[0];if(!(ut<=E.K))if(E.K=ut,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Pn=qe[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Ni=qe[4];Ni!=null&&(E.za=Ni,E.j.info("SVER="+E.za));const ri=qe[5];ri!=null&&typeof ri=="number"&&ri>0&&(w=1.5*ri,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const si=c.g;if(si){const Hs=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=w.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Xo(K,K.h),K.h=null))}if(w.G){const Pa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(w.wa=Pa,Ke(w.J,w.G,Pa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var re=c;if(w.na=rc(w,w.L?w.ba:null,w.W),re.L){Wo(w.h,re);var Ae=re,yt=w.O;yt&&(Ae.H=yt),Ae.D&&(Ei(Ae),vi(Ae)),w.g=re}else Zu(w);E.i.length>0&&Ii(E)}else qe[0]!="stop"&&qe[0]!="close"||xi(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xi(E,7):al(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}mi(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function Si(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xo(c,y){c.g?c.g.add(y):c.h=y}function Wo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return M(c.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let B,K=null;w>=0?(B=c[E].substring(0,w),K=c[E].substring(w+1)):B=c[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Sn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,xr(this,c.u),this.h=c.h,Zo(this,Wu(c.i)),this.m=c.m):c&&(y=String(c).match(Qu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),xr(this,y[4]),this.h=wi(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Sn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Us(y,Na,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Us(y,Na,!0),"@"),c.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Us(E,E.charAt(0)=="/"?el:Yu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Us(E,$u)),c.join("")},Sn.prototype.resolve=function(c){const y=Rt(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)xr(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let re=0;re<B.length;){const Ae=B[re++];Ae=="."?w&&re==B.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&re==B.length&&K.push("")):(K.push(Ae),w=!0)}w=K.join("/")}else w=B}return E?y.h=w:E=c.i.toString()!=="",E?Zo(y,Wu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Rt(c){return new Sn(c)}function zt(c,y,E){c.j=E?wi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Zo(c,y,E){y instanceof Dr?(c.i=y,Oa(c.i,c.l)):(E||(y=Us(y,Nr)),c.i=new Dr(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function ks(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Us(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Na=/[#\/\?@]/g,Yu=/[#\?:]/g,el=/[#\?]/g,Nr=/[#\?@]/g,$u=/#/g;function Dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Dr.prototype,r.add=function(c,y){hn(this),this.i=null,c=Or(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Xu(c,y){hn(c),y=Or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tl(c,y){return hn(c),y=Or(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(E,w){E.forEach(function(B){c.call(y,B,w,this)},this)},this)};function nl(c,y){hn(c);let E=[];if(typeof y=="string")tl(c,y)&&(E=E.concat(c.g.get(Or(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return hn(this),this.i=null,c=Or(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=nl(this,c),c.length>0?String(c[0]):y):y};function Da(c,y,E){Xu(c,y),E.length>0&&(c.i=null,c.g.set(Or(c,y),M(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const B=Yi(E);E=nl(this,E);for(let K=0;K<E.length;K++){let re=B;E[K]!==""&&(re+="="+Yi(E[K])),c.push(re)}}return this.i=c.join("&")};function Wu(c){const y=new Dr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Oa(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(Xu(this,w),Da(this,B,E))},c)),c.j=y}function ti(c,y){const E=new Jn;if(h.Image){const w=new Image;w.onload=v(kn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(kn,E,"TestLoadImage: error",!1,y,w),w.onabort=v(kn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(kn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function il(c,y){const E=new Jn,w=new AbortController,B=setTimeout(()=>{w.abort(),kn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?kn(E,"TestPingServer: ok",!0,y):kn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kn(E,"TestPingServer: error",!1,y)})}function kn(c,y,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Mr(){this.g=new Lu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ai,ju),Ai.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ps,bt),r=Ps.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vr(this):ni(this),this.readyState==3&&Ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Vr(this))},r.Na=function(c){this.g&&(this.response=c,Vr(this))},r.ga=function(){this.g&&Vr(this)};function Vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let y="";return je(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Ls(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Un(E),typeof c=="string"?E!=null&&Yi(E):Ke(c,y,E))}function $e(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,bt);var Ri=/^https?$/i,rl=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){js(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(rl,y,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of E)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){js(this,K)}};function js(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),$i(c)}function sl(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},r.Xa=function(){zs(this)};function zs(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),ii(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let re=String(c.D).match(Qu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!Ri.test(re?re.toLowerCase():"")}E=w}if(E)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var B=ii(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",sl(c)}}finally{$i(c)}}}}function $i(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ut(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Of(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const y={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(x(c[w]))continue;var E=Fu(c[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}Ge(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function kr(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new Mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=kr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,w){St(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=rc(this,null,this.W),Ii(this)};function al(c){if(Va(c),c.I==3){var y=c.V++,E=Rt(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Bs(c,E),y=new Zn(c,c.j,y),y.M=2,y.A=ks(Rt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=sc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}ic(c)}function Ur(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Va(c){Ur(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ii(c){if(!$o(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||R(),ve||(Ee(),ve=!0),I.add(y,c),c.D=0}}function ka(c,y){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(g(c.Ea,c,y),nc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ju(this,B,y),E=Rt(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Bs(this,E),K&&(this.R?y="headers="+Yi(Un(K))+"&"+y:this.u&&Ls(E,this.u,K)),Xo(this.h,B),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),B.U=!0,_i(B,E,null)):_i(B,E,y),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||$o(this.h)||ol(this))};function ol(c,y){var E;y?E=y.l:E=c.V++;const w=Rt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",E),Ke(w,"AID",c.K),Bs(c,w),c.u&&c.o&&Ls(w,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ju(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xo(c.h,E),_i(E,w,y)}function Bs(c,y){c.H&&je(c.H,function(E,w){Ke(y,w,E)}),c.l&&je({},function(E,w){Ke(y,w,E)})}function Ju(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ae=-1;for(;;){const yt=["count="+E];Ae==-1?E>0?(Ae=B[0].g,yt.push("ofs="+Ae)):Ae=0:yt.push("ofs="+Ae);let qe=!0;for(let ut=0;ut<E;ut++){var K=B[ut].g;const Pn=B[ut].map;if(K-=Ae,K<0)Ae=Math.max(0,B[ut].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var re=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ni,ri]of re){let si=ri;m(ri)&&(si=Ir(ri)),yt.push(K+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Ni}}catch{w&&w(Pn)}}if(qe){re=yt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function Zu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||R(),ve||(Ee(),ve=!0),I.add(y,c),c.A=0}}function qs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(g(c.Da,c),nc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ur(this),ec(this))};function ll(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ec(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Bs(c,y),c.u&&c.o&&Ls(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ks(Rt(y)),E.u=null,E.R=!0,Ca(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),qs(this),St(19))};function Ua(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function tc(c,y){var E=null;if(c.g==y){Ua(c),ll(c),c.g=null;var w=2}else if(Si(c.h,y))E=y.G,Wo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;w=Ra(),Ut(w,new pi(w,E)),Ii(c)}else Zu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&ka(c,y)||w==2&&qs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function nc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const B=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(w,"https"),ks(w),B?ti(w.toString(),E):il(w.toString(),E)}else St(2);c.I=0,c.l&&c.l.pa(y),ic(c),Va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function ic(c){if(c.I=0,c.ja=[],c.l){const y=Jo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function rc(c,y,E){var w=E instanceof Sn?Rt(E):new Sn(E);if(w.g!="")y&&(w.g=y+"."+w.g),xr(w,w.u);else{var B=h.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new Sn(null);w&&zt(K,w),y&&(K.g=y),B&&xr(K,B),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Ke(w,E,y),Ke(w,"VER",c.ka),Bs(c,w),w}function sc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Ai({ab:E})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pr(){}Pr.prototype.g=function(c,y){return new on(c,y)};function on(c,y){bt.call(this),this.g=new kr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wi(this)}T(on,bt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){al(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ir(c),c=E);y.i.push(new At(y.Ya++,c)),y.I==3&&Ii(y)},on.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,on.Z.N.call(this)};function oc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(oc,Ft);function lc(){Mn.call(this),this.status=1}T(lc,Mn);function Wi(c){this.g=c}T(Wi,ac),Wi.prototype.ra=function(){Ut(this.g,"a")},Wi.prototype.qa=function(c){Ut(this.g,new oc(c))},Wi.prototype.pa=function(c){Ut(this.g,new lc)},Wi.prototype.oa=function(){Ut(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Tb=function(){return new Pr},Eb=function(){return Ra()},vb=gt,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Ch=Ms,Ko.COMPLETE="complete",_b=Ko,zu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Wl=zu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,yb=$e}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const J0="@firebase/firestore",Z0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Up("@firebase/firestore");function po(){return ma.logLevel}function le(r,...e){if(ma.logLevel<=Me.DEBUG){const n=e.map($p);ma.debug(`Firestore (${ko}): ${r}`,...n)}}function wr(r,...e){if(ma.logLevel<=Me.ERROR){const n=e.map($p);ma.error(`Firestore (${ko}): ${r}`,...n)}}function Ao(r,...e){if(ma.logLevel<=Me.WARN){const n=e.map($p);ma.warn(`Firestore (${ko}): ${r}`,...n)}}function $p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,bb(r,s,n)}function bb(r,e,n){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||bb(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class xx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Sb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Dx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Dx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function cp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Fm(o)===Fm(u)?Ve(o,u):Fm(o)?1:-1}return Ve(r.length,e.length)}const kx=55296,Ux=57343;function Fm(r){const e=r.charCodeAt(0);return e>=kx&&e<=Ux}function Ro(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__name__";class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=ki.isNumericId(e),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class et extends ki{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const Px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends ki{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return Px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new Wt([tE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lx(r,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function nE(r){if(!me.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iE(r){if(me.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ab(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(r);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function xu(r,e){if(!Ab(r))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,sE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*sE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function jx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ys(o,me.empty(),e)}function zx(r){return new ys(r.readTime,r.key,hu)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(be.min(),me.empty(),hu)}static max(){return new ys(be.max(),me.empty(),hu)}}function Bx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==qx)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Fx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function df(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function Gx(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="";function Kx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=aE(e)),e=Qx(r.get(n),e);return aE(e)}function Qx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Rb:n+="";break;default:n+=u}}return n}function aE(r){return r+Rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Rs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Cb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Lt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ib("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=Yx.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="server_timestamp",Nb="__type__",Db="__previous_value__",Ob="__local_write_time__";function Jp(r){return(r?.mapValue?.fields||{})[Nb]?.stringValue===xb}function mf(r){const e=r.mapValue.fields[Db];return Jp(e)?mf(e):e}function fu(r){const e=_s(r.mapValue.fields[Ob].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Hh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__type__",Xx="__max__",gh={mapValue:{}},Vb="__vector__",Fh="value";function Es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:Jx(r)?9007199254740991:Wx(r)?10:11:_e(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const n=Es(r);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fu(r).isEqual(fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?qh(h)===qh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(oE(h)!==oE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fi(h[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function mu(r,e){return(r.values||[]).find((n=>Fi(n,e)))!==void 0}function Co(r,e){if(r===e)return 0;const n=Es(r),s=Es(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return uE(r.timestampValue,e.timestampValue);case 4:return uE(fu(r),fu(e));case 5:return cp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=vs(u),p=vs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(Et(u.latitude),Et(h.latitude));return m!==0?m:Ve(Et(u.longitude),Et(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return cE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Fh]?.arrayValue,v=p[Fh]?.arrayValue,T=Ve(g?.values?.length||0,v?.values?.length||0);return T!==0?T:cE(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===gh.mapValue&&h===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=cp(p[T],v[T]);if(A!==0)return A;const M=Co(m[p[T]],g[v[T]]);if(M!==0)return M}return Ve(p.length,v.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function uE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=_s(r),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function cE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Io(r){return hp(r)}function hp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=hp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${hp(n.fields[h])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function Ih(r){switch(Es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Rs(s.fields,((u,h)=>{o+=u.length+Ih(h)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function hE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fp(r){return!!r&&"integerValue"in r}function Zp(r){return!!r&&"arrayValue"in r}function fE(r){return!!r&&"nullValue"in r}function dE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function Wx(r){return(r?.mapValue?.fields||{})[Mb]?.stringValue===Vb}function iu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Rs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(r.arrayValue.values[n]);return e}return{...r}}function Jx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=iu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Rs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(iu(this.value))}}function kb(r){const e=[];return Rs(r.fields,((n,s)=>{const o=new Wt([n]);if(xh(s)){const u=kb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,be.min(),be.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,be.min(),be.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function mE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{}class Ot extends Ub{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tN(e,n,s):n==="array-contains"?new rN(e,s):n==="in"?new sN(e,s):n==="not-in"?new aN(e,s):n==="array-contains-any"?new oN(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nN(e,s):new iN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends Ub{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return Pb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pb(r){return r.op==="and"}function Lb(r){return eN(r)&&Pb(r)}function eN(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function dp(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(Lb(r))return r.filters.map((e=>dp(e))).join(",");{const e=r.filters.map((n=>dp(n))).join(",");return`${r.op}(${e})`}}function jb(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(r,e):r instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&jb(h,o.filters[m])),!0):!1})(r,e):void _e(19439)}function zb(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(r):r instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(zb).join(" ,")+"}"})(r):"Filter"}class tN extends Ot{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class nN extends Ot{constructor(e,n){super(e,"in",n),this.keys=Bb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iN extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Bb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Bb(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class rN extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&mu(n.arrayValue,this.value)}}class sN extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class aN extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class oN extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function gE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new lN(r,e,n,s,o,u,h)}function eg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=n}return e.Te}function tg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Zx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pE(r.startAt,e.startAt)&&pE(r.endAt,e.endAt)}function mp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uN(r,e,n,s,o,u,h,m){return new Nu(r,e,n,s,o,u,h,m)}function ng(r){return new Nu(r)}function yE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qb(r){return r.collectionGroup!==null}function ru(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Kh(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Kh(Wt.keyField(),s))}return e.Ie}function ji(r){const e=we(r);return e.Ee||(e.Ee=cN(e,ru(r))),e.Ee}function cN(r,e){if(r.limitType==="F")return gE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kh(o.field,u)}));const n=r.endAt?new Gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gh(r.startAt.position,r.startAt.inclusive):null;return gE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function pp(r,e){const n=r.filters.concat([e]);return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function gp(r,e,n){return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function pf(r,e){return tg(ji(r),ji(e))&&r.limitType===e.limitType}function Hb(r){return`${eg(ji(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>zb(o))).join(", ")}]`),df(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(ji(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=mE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(h,m,p){const g=mE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(r,e)}function hN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Fb(r){return(e,n)=>{let s=!1;for(const o of ru(r)){const u=fN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fN(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new ft(me.comparator);function Ar(){return dN}const Gb=new ft(me.comparator);function Jl(...r){let e=Gb;for(const n of r)e=e.insert(n.key,n);return e}function Kb(r){let e=Gb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return su()}function Qb(){return su()}function su(){return new va((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mN=new ft(me.comparator),pN=new Lt(me.comparator);function ke(...r){let e=pN;for(const n of r)e=e.add(n);return e}const gN=new Lt(Ve);function yN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function Yb(r){return{integerValue:""+r}}function _N(r,e){return Gx(e)?Yb(e):ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function vN(r,e,n){return r instanceof pu?(function(o,u){const h={fields:{[Nb]:{stringValue:xb},[Ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=mf(u)),u&&(h.fields[Db]=u),{mapValue:h}})(n,e):r instanceof gu?Xb(r,e):r instanceof yu?Wb(r,e):(function(o,u){const h=$b(o,u),m=_E(h)+_E(o.Ae);return fp(h)&&fp(o.Ae)?Yb(m):ig(o.serializer,m)})(r,e)}function EN(r,e,n){return r instanceof gu?Xb(r,e):r instanceof yu?Wb(r,e):n}function $b(r,e){return r instanceof Qh?(function(s){return fp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class pu extends yf{}class gu extends yf{constructor(e){super(),this.elements=e}}function Xb(r,e){const n=Jb(e);for(const s of r.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends yf{constructor(e){super(),this.elements=e}}function Wb(r,e){let n=Jb(e);for(const s of r.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class Qh extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _E(r){return Et(r.integerValue||r.doubleValue)}function Jb(r){return Zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.field=e,this.transform=n}}function bN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?Ro(s.elements,o.elements,Fi):s instanceof Qh&&o instanceof Qh?Fi(s.Ae,o.Ae):s instanceof pu&&o instanceof pu})(r.transform,e.transform)}class SN{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function Zb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rg(r.key,Qn.none()):new Du(r.key,r.data,Qn.none());{const n=r.data,s=Tn.empty();let o=new Lt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Cs(r.key,s,new Dn(o.toArray()),Qn.none())}}function wN(r,e,n){r instanceof Du?(function(o,u,h){const m=o.value.clone(),p=EE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Cs?(function(o,u,h){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=EE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(eS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function au(r,e,n,s){return r instanceof Du?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=u.value.clone(),v=TE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Cs?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=TE(u.fieldTransforms,p,h),v=h.data;return v.setAll(eS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Nh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function AN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=$b(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function vE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,h)=>bN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends _f{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cs extends _f{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function EE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,EN(h,m,n[o]))}return s}function TE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,vN(u,h,e))}return s}class rg extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Qb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Zb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,s)=>vE(n,s)))&&Ro(this.baseMutations,e.baseMutations,((n,s)=>vE(n,s)))}}class sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return mN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new sg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Le;function NN(r){switch(r){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function tS(r){if(r===void 0)return wr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=Dt||(Dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new ms([4294967295,4294967295],0);function bE(r){const e=DN().encode(r),n=new gb;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(ON)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ag(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=bE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vf(be.min(),o,new ft(Ve),Ar(),ke())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nS{constructor(e,n){this.targetId=e,this.Ce=n}}class iS{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wE{constructor(){this.ve=0,this.Fe=AE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new Ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=AE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=yh(),this.He=yh(),this.Ye=new ft(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(mp(u))if(s===0){const h=new me(u.path);this.et(n,h,nn.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof Ib)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ag(h,o,u)}catch(p){return Ao(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&mp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new vf(e,n,this.Ye,this.je,s);return this.je=Ar(),this.Je=yh(),this.He=yh(),this.Ye=new ft(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new ft(me.comparator)}function AE(){return new ft(me.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LN(r,e){return Yh(r,e.toTimestamp())}function zi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=_s(n);return new rt(s.seconds,s.nanos)})(r))}function og(r,e){return _p(r,e).canonicalString()}function _p(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sS(r){const e=et.fromString(r);return Fe(cS(e),10190,{key:e.toString()}),e}function vp(r,e){return og(r.databaseId,e.path)}function Gm(r,e){const n=sS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(oS(n))}function aS(r,e){return og(r.databaseId,e)}function jN(r){const e=sS(r);return e.length===4?et.emptyPath():oS(e)}function Ep(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RE(r,e,n){return{name:vp(r,e),fields:n.value.mapValue.fields}}function zN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Fe(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?ee.UNKNOWN:tS(g.code);return new oe(v,g.message||"")})(h);n=new iS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(r,s.document.name),u=zi(s.document.updateTime),h=s.document.createTime?zi(s.document.createTime):be.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Dh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gm(r,s.document),u=s.readTime?zi(s.readTime):be.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gm(r,s.document),u=s.removedTargetIds||[];n=new Dh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xN(o,u),m=s.targetId;n=new nS(m,h)}}return n}function BN(r,e){let n;if(e instanceof Du)n={update:RE(r,e.key,e.value)};else if(e instanceof rg)n={delete:vp(r,e.key)};else if(e instanceof Cs)n={update:RE(r,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof RN))return _e(16599,{Vt:e.type});n={verify:vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function qN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(be.min())&&(h=zi(u)),new SN(h,o.transformResults||[])})(n,e)))):[]}function HN(r,e){return{documents:[aS(r,e.path)]}}function FN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aS(r,o);const u=(function(g){if(g.length!==0)return uS(fi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:yo(A.field),direction:QN(A.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=yp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function GN(r){let e=jN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const A=lS(T);return A instanceof fi&&Lb(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(j){return new Kh(_o(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,df(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,M=T.values||[];return new Gh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,M=T.values||[];return new Gh(M,A)})(n.endAt)),uN(e,o,h,u,m,"F",p,g)}function KN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(_o(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>lS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function QN(r){return VN[r]}function YN(r){return kN[r]}function $N(r){return UN[r]}function yo(r){return{fieldPath:r.canonicalString()}}function _o(r){return Wt.fromServerFormat(r.fieldPath)}function uS(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:YN(n.op),value:n.value}}})(r):r instanceof fi?(function(n){const s=n.getFilters().map((o=>uS(o)));return s.length===1?s[0]:{compositeFilter:{op:$N(n.op),filters:s}}})(r):_e(54877,{filter:r})}function XN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.yt=e}}function JN(r){const e=GN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Cn=new eD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ys.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class eD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(hS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LruGarbageCollector",tD=1048576;function xE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class nD{constructor(e){this.Ir=e,this.buffer=new Lt(xE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(IE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?le(IE,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class rD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ff.ce);const s=new nD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(CE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),po()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function sD(r,e){return new rD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&au(s.mutation,o,Dn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ar();const h=su(),m=(function(){return su()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Cs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),au(v.mutation,g,v.mutation.getFieldMask(),rt.now())):h.set(g.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new oD(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=su();let o=new ft(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Dn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=Qb();v.forEach((A=>{if(!u.has(A)){const M=Zb(n.get(A),s.get(A));M!==null&&T.set(A,M),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(oa());let m=hu,p=u;return h.next((g=>ne.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:m,changes:Kb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,A){return new Nu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,nn.newInvalidDocument(v)))}));let m=Jl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&au(v.mutation,g,Dn.empty(),rt.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:zi(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new ft(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=oa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new IN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new Lt(qt.$r),this.Ur=new Lt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new qt(n,e),o=new qt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new qt(new me(u),0);let m=new Lt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ri=e,this.docs=(function(){return new ft(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ar();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Bx(zx(v),s)<=0||(o.has(v.key)||gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mD(this)}getSize(e){return ne.resolve(this.size)}}class mD extends aD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.si=new va((n=>eg(n)),tg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new hD,this.referenceDelegate=e(this),this.Pi=new pD(this),this.indexManager=new ZN,this.remoteDocumentCache=(function(o){return new dD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new WN(n),this.Ii=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new gD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class gD extends Hx{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new lg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new va((s=>Kx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=sD(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XR()?8:Fx(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new yD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(po()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(po()<=Me.DEBUG&&le("QueryEngine","Query:",go(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ne.resolve())}ys(e,n){if(yE(n))return ne.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=gp(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,gp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return yE(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(po()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.vs(e,h,n,jx(o,hu)).next((m=>m)))}))}Ds(e,n){let s=new Lt(Fb(e));return n.forEach(((o,u)=>{gf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return po()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",go(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",vD=3e8;class ED{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ve),this.xs=new va((u=>eg(u)),tg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TD(r,e,n,s){return new ED(r,e,n,s)}async function dS(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function bD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,A=T.keys();let M=ne.resolve();return A.forEach((j=>{M=M.next((()=>v.getEntry(p,j))).next((q=>{const P=g.docVersions.get(j);Fe(P!==null,48541),q.version.compareTo(P)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function mS(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,s)),o=o.insert(T,M),(function(q,P,Y){return q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=vD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,M,v)&&m.push(n.Pi.updateTargetData(u,M))}));let p=Ar(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(wD(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(be.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function wD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Ar();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(hg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function AD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Tp(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Po(h))throw h;le(hg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function NE(r,e,n){const s=we(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=we(p),A=T.xs.get(v);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)})(s,h,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:ke()))).next((m=>(CD(s,hN(e),m),{documents:m,Qs:u})))))}function CD(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class DE{constructor(){this.activeTargetIds=yN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class ME{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(OE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function bp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=bp(),m=this.zo(e,n.toUriEncodedString());le(Km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Ss(g);return this.Jo(e,m,p,s,v).then((T=>(le(Km,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Ao(Km,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=ND[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class MD extends DD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=bp();return new Promise(((m,p)=>{const g=new yb;g.setWithCredentials(!0),g.listenOnce(_b.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const T=g.getResponseJson();le(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ch.TIMEOUT:le(en,`RPC '${e}' ${h} timed out`),p(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const A=g.getStatus();if(le(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const j=M?.error;if(j&&j.status&&j.message){const q=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(j.status);p(new oe(q,j.message))}else p(new oe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(en,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);le(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=bp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tb(),m=Eb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");le(en,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let A=!1,M=!1;const j=new OD({Yo:P=>{M?le(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(le(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),le(en,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),q=(P,Y,W)=>{P.listen(Y,(ie=>{try{W(ie)}catch(he){setTimeout((()=>{throw he}),0)}}))};return q(T,Wl.EventType.OPEN,(()=>{M||(le(en,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),q(T,Wl.EventType.CLOSE,(()=>{M||(M=!0,le(en,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),q(T,Wl.EventType.ERROR,(P=>{M||(M=!0,Ao(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),q(T,Wl.EventType.MESSAGE,(P=>{if(!M){const Y=P.data[0];Fe(!!Y,16349);const W=Y,ie=W?.error||W[0]?.error;if(ie){le(en,`RPC '${e}' stream ${o} received error:`,ie);const he=ie.status;let Ee=(function(R){const C=Dt[R];if(C!==void 0)return tS(C)})(he),ve=ie.message;Ee===void 0&&(Ee=ee.INTERNAL,ve="Unknown error status: "+he+" with message "+ie.message),M=!0,j.a_(new oe(Ee,ve)),T.close()}else le(en,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}})),q(m,vb.STAT_EVENT,(P=>{P.stat===up.PROXY?le(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===up.NOPROXY&&le(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r){return new PN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="PersistentStream";class gS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VD extends gS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?zi(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ep(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=mp(p)?{documents:HN(u,p)}:{query:FN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rS(u,h.resumeToken);const g=yp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Yh(u,h.snapshotVersion.toTimestamp());const g=yp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=KN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ep(this.serializer),n.removeTarget=e,this.q_(n)}}class kD extends gS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qN(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ep(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>BN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class PD extends UD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,_p(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,_p(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class jD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(le(pa,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)})(this))}))})),this.Ra=new LD(s,o)}}async function Tf(r){if(Ea(r))for(const e of r.da)await e(!0)}async function Mu(r){for(const e of r.da)await e(!1)}function yS(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?mg(n):Lo(n).O_()&&dg(n,e))}function fg(r,e){const n=we(r),s=Lo(n);n.Ia.delete(e),s.O_()&&_S(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function dg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).Y_(e)}function _S(r,e){r.Va.Ue(e),Lo(r).Z_(e)}function mg(r){r.Va=new MN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Ra.ua()}function pg(r){return Ea(r)&&!Lo(r).x_()&&r.Ia.size>0}function Ea(r){return we(r).Ea.size===0}function vS(r){r.Va=void 0}async function zD(r){r.Ra.set("Online")}async function BD(r){r.Ia.forEach(((e,n)=>{dg(r,e)}))}async function qD(r,e){vS(r),pg(r)?(r.Ra.ha(e),mg(r)):r.Ra.set("Unknown")}async function HD(r,e,n){if(r.Ra.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(r,s)}else if(e instanceof Dh?r.Va.Ze(e):e instanceof nS?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await mS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),_S(u,p);const T=new hs(v.target,p,g,v.sequenceNumber);dg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(pa,"Failed to raise snapshot:",s),await Xh(r,s)}}async function Xh(r,e,n){if(!Po(e))throw e;r.Ea.add(1),await Mu(r),r.Ra.set("Offline"),n||(n=()=>mS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(pa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Tf(r)}))}function ES(r,e){return e().catch((n=>Xh(r,n,e)))}async function bf(r){const e=we(r),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;FD(e);)try{const o=await AD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GD(e,o)}catch(o){await Xh(e,o)}TS(e)&&bS(e)}function FD(r){return Ea(r)&&r.Ta.length<10}function GD(r,e){r.Ta.push(e);const n=Ts(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TS(r){return Ea(r)&&!Ts(r).x_()&&r.Ta.length>0}function bS(r){Ts(r).start()}async function KD(r){Ts(r).ra()}async function QD(r){const e=Ts(r);for(const n of r.Ta)e.ea(n.mutations)}async function YD(r,e,n){const s=r.Ta.shift(),o=sg.from(s,e,n);await ES(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bf(r)}async function $D(r,e){e&&Ts(r).X_&&await(async function(s,o){if((function(h){return NN(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await ES(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(r,e),TS(r)&&bS(r)}async function kE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),le(pa,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function XD(r,e){const n=we(r);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await Mu(n),n.Ra.set("Unknown"))}function Lo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:zD.bind(null,r),t_:BD.bind(null,r),r_:qD.bind(null,r),H_:HD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),pg(r)?mg(r):r.Ra.set("Unknown")):(await r.ma.stop(),vS(r))}))),r.ma}function Ts(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new kD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KD.bind(null,r),r_:$D.bind(null,r),ta:QD.bind(null,r),na:YD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new gg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(r,e){if(wr("AsyncQueue",`${e}: ${r}`),Po(r))return new oe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ga=new ft(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JD{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=PE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function PE(){return new va((r=>Hb(r)),pf)}async function SS(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new WD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=yg(h,`Initialization of query '${go(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_g(n)}async function wS(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&_g(n)}function eO(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function _g(r){r.Ca.forEach((e=>{e.next()}))}var Sp,LE;(LE=Sp||(Sp={})).Ma="default",LE.Cache="cache";class AS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class tO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Fb(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new UE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const A=o.get(v),M=gf(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let P=!1;A&&M?A.data.isEqual(M.data)?j!==q&&(s.track({type:3,doc:M}),P=!0):this.su(A,M)||(s.track({type:2,doc:M}),P=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),P=!0):A&&!M&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(m=!0)),P&&(M?(h=h.add(M),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(M,j){const q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return q(M)-q(j)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new CS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new RS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class nO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iO{constructor(e){this.key=e,this.hu=!1}}class rO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>Hb(m)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(me.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sO(r,e,n=!0){const s=MS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IS(s,e,n,!0),o}async function aO(r,e){const n=MS(r);await IS(n,e,!0,!1)}async function IS(r,e,n,s){const o=await RD(r.localStore,ji(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&yS(r.remoteStore,o),m}async function oO(r,e,n,s,o){r.pu=(T,A,M)=>(async function(q,P,Y,W){let ie=P.view.ru(Y);ie.Cs&&(ie=await NE(q.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,ie))));const he=W&&W.targetChanges.get(P.targetId),Ee=W&&W.targetMismatches.get(P.targetId)!=null,ve=P.view.applyChanges(ie,q.isPrimaryClient,he,Ee);return zE(q,P.targetId,ve.au),ve.snapshot})(r,T,A,M);const u=await NE(r.localStore,e,!0),h=new tO(e,u.Qs),m=h.ru(u.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);zE(r,n,g.au);const v=new nO(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function lO(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!pf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fg(s.remoteStore,o.targetId),wp(s,o.targetId)})).catch(Uo)):(wp(s,o.targetId),await Tp(s.localStore,o.targetId,!0))}async function uO(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fg(n.remoteStore,s.targetId))}async function cO(r,e,n){const s=yO(r);try{const o=await(function(h,m){const p=we(h),g=rt.now(),v=m.reduce(((M,j)=>M.add(j.key)),ke());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let j=Ar(),q=ke();return p.Ns.getEntries(M,v).next((P=>{j=P,j.forEach(((Y,W)=>{W.isValidDocument()||(q=q.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,j))).next((P=>{T=P;const Y=[];for(const W of m){const ie=AN(W,T.get(W.key).overlayedDocument);ie!=null&&Y.push(new Cs(W.key,ie,kb(ie.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Y,m)})).next((P=>{A=P;const Y=P.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(M,P.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:Kb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Vu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=yg(o,"Failed to persist write");n.reject(u)}}async function xS(r,e){const n=we(r);try{const s=await SD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Vu(n,s,e)}catch(s){await Uo(s)}}function jE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&_g(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hO(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(me.comparator);h=h.insert(u,nn.newNoDocument(u,be.min()));const m=ke().add(u),p=new vf(be.min(),new Map,new ft(Ve),h,m);await xS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Eg(s)}else await Tp(s.localStore,e,!1).then((()=>wp(s,e,n))).catch(Uo)}async function fO(r,e){const n=we(r),s=e.batch.batchId;try{const o=await bD(n.localStore,e);DS(n,s,null),NS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await Uo(o)}}async function dO(r,e,n){const s=we(r);try{const o=await(function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);DS(s,e,n),NS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await Uo(o)}}function NS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function DS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function wp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||OS(r,s)}))}function OS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(fg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Eg(r))}function zE(r,e,n){for(const s of n)s instanceof RS?(r.Ru.addReference(s.key,e),mO(r,s)):s instanceof CS?(le(vg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||OS(r,s.key)):_e(19791,{wu:s})}function mO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(vg,"New document in limbo: "+n),r.Eu.add(s),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new iO(n)),r.du=r.du.insert(n,s),yS(r.remoteStore,new hs(ji(ng(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function Vu(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=cg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=we(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Es,(M=>v.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>ne.forEach(A.ds,(M=>v.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!Po(T))throw T;le(hg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const M=v.Ms.get(A),j=M.snapshotVersion,q=M.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(A,q)}}})(s.localStore,u))}async function pO(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){le(vg,"User change. New user:",e.toKey());const s=await dS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Ls)}}function gO(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function MS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hO.bind(null,e),e.Pu.H_=ZD.bind(null,e.eventManager),e.Pu.yu=eO.bind(null,e.eventManager),e}function yO(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TD(this.persistence,new _D,e.initialUser,this.serializer)}Cu(e){return new fS(ug.mi,this.serializer)}Du(e){return new ID}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class _O extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new fS((s=>$h.mi(s,n)),this.serializer)}}class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JD})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),s=(function(u){return new MD(u)})(e.databaseInfo);return(function(u,h,m,p){return new PD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new jD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return ME.v()?new ME:new xD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const T=new rO(o,u,h,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);le(pa,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class vO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(bs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(bs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ym(r,e){r.asyncQueue.verifyOperationInProgress(),le(bs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function BE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await EO(r);le(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>kE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>kE(e.remoteStore,o))),r._onlineComponents=e}async function EO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(bs,"Using user provided OfflineComponentProvider");try{await Ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Ym(r,new Wh)}}else le(bs,"Using default OfflineComponentProvider"),await Ym(r,new _O(void 0));return r._offlineComponents}async function kS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(bs,"Using user provided OnlineComponentProvider"),await BE(r,r._uninitializedComponentsProvider._online)):(le(bs,"Using default OnlineComponentProvider"),await BE(r,new Ap))),r._onlineComponents}function TO(r){return kS(r).then((e=>e.syncEngine))}async function US(r){const e=await kS(r),n=e.eventManager;return n.onListen=sO.bind(null,e.syncEngine),n.onUnlisten=lO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),n}function bO(r,e,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new VS({next:A=>{v.Nu(),h.enqueueAndForget((()=>wS(u,T)));const M=A.docs.has(m);!M&&A.fromCache?g.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new AS(ng(m.path),v,{includeMetadataChanges:!0,qa:!0});return SS(u,T)})(await US(r),r.asyncQueue,e,n,s))),s.promise}function SO(r,e,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new VS({next:A=>{v.Nu(),h.enqueueAndForget((()=>wS(u,T))),A.fromCache&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new AS(m,v,{includeMetadataChanges:!0,qa:!0});return SS(u,T)})(await US(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firestore.googleapis.com",HE=!0;class FE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=HE}else this.host=e.host,this.ssl=e.ssl??HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ix;switch(s.type){case"firstParty":return new Ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qE.get(n);s&&(le("ComponentProvider","Removing Datastore"),qE.delete(n),s.terminate())})(this),Promise.resolve()}}function wO(r,e,n,s={}){r=hi(r,Sf);const o=Ss(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Vp(`https://${m}`),kp("Firestore",!0)),u.host!==LS&&u.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=tn.MOCK_USER;else{g=CT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(T)}r._authCredentials=new xx(new Sb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xu(n,Tt._jsonSchema))return new Tt(e,s||null,new me(et.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Mt("string",Tt._jsonSchemaVersion),referencePath:Mt("string")};class ps extends jo{constructor(e,n,s){super(e,n,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new me(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function _u(r,e,...n){if(r=st(r),wb("collection","path",e),r instanceof Sf){const s=et.fromString(e,...n);return iE(s),new ps(r,null,s)}{if(!(r instanceof Tt||r instanceof ps))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return iE(s),new ps(r.firestore,null,s)}}function $n(r,e,...n){if(r=st(r),arguments.length===1&&(e=Xp.newId()),wb("doc","path",e),r instanceof Sf){const s=et.fromString(e,...n);return nE(s),new Tt(r,null,new me(s))}{if(!(r instanceof Tt||r instanceof ps))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return nE(s),new Tt(r.firestore,r instanceof ps?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pS(this,"async_queue_retry"),this._c=()=>{const s=Qm();s&&le(GE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(GE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ta extends Sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new KE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function AO(r,e){const n=typeof r=="object"?r:Lp(),s=typeof r=="string"?r:Hh,o=of(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wT("firestore");u&&wO(o,...u)}return o}function Tg(r){if(r._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RO(r),r._firestoreClient}function RO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new $x(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,PS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Jt.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Mt("string",Kn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(xu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Mt("string",Bi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Mt("string",qi._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class IO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class jS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class bg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zS(this.Ac)&&CO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(e)}Cc(e,n,s,o=!1){return new bg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(r){const e=r._freezeSettings(),n=Ef(r._databaseId);return new xO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function BS(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",h,s);const m=qS(s,h);let p,g;if(u.merge)p=new Dn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=Rp(e,T,n);if(!h.contains(A))throw new oe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);FS(v,A)||v.push(A)}p=new Dn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new IO(new Tn(m),p,g)}class Cf extends Af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class Sg extends Af{_toFieldTransform(e){return new TN(e.path,new pu)}isEqual(e){return e instanceof Sg}}function NO(r,e,n,s){const o=r.Cc(1,e,n);wg("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();Rs(s,((p,g)=>{const v=Ag(e,p,n);g=st(g);const T=o.yc(v);if(g instanceof Cf)u.push(v);else{const A=ku(g,T);A!=null&&(u.push(v),h.set(v,A))}}));const m=new Dn(u);return new jS(h,m,o.fieldTransforms)}function DO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Rp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Rp(e,u[A])),p.push(u[A+1]);const g=[],v=Tn.empty();for(let A=m.length-1;A>=0;--A)if(!FS(g,m[A])){const M=m[A];let j=p[A];j=st(j);const q=h.yc(M);if(j instanceof Cf)g.push(M);else{const P=ku(j,q);P!=null&&(g.push(M),v.set(M,P))}}const T=new Dn(g);return new jS(v,T,h.fieldTransforms)}function OO(r,e,n,s=!1){return ku(n,r.Cc(s?4:3,e))}function ku(r,e){if(HS(r=st(r)))return wg("Unsupported field value:",e,r),qS(r,e);if(r instanceof Af)return(function(s,o){if(!zS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ku(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _N(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:rS(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(h,m){return{mapValue:{fields:{[Mb]:{stringValue:Vb},[Fh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ig(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hf(s)}`)})(r,e)}function qS(r,e){const n={};return Cb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(r,((s,o)=>{const u=ku(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function HS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Bi||r instanceof Kn||r instanceof Tt||r instanceof Af||r instanceof qi)}function wg(r,e,n){if(!HS(n)||!Ab(n)){const s=hf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Rp(r,e,n){if((e=st(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Ag(r,e);throw Jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function Ag(r,e,n){if(e.search(MO)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+r+p)}function FS(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VO extends GS{data(){return super.data()}}function Rg(r,e){return typeof e=="string"?Ag(r,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class UO extends Cg{}function KS(r,e,...n){let s=[];e instanceof Cg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Ig)).length,m=u.filter((p=>p instanceof If)).length;if(h>1||h>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class If extends UO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new If(e,n,s)}_apply(e){const n=this._parse(e);return YS(e._query,n),new jo(e.firestore,e.converter,pp(e._query,n))}_parse(e){const n=Rf(e.firestore);return(function(u,h,m,p,g,v,T){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){$E(T,v);const j=[];for(const q of T)j.push(YE(p,u,q));A={arrayValue:{values:j}}}else A=YE(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||$E(T,v),A=OO(m,h,T,v==="in"||v==="not-in");return Ot.create(g,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QS(r,e,n){const s=e,o=Rg("where",r);return If._create(o,s,n)}class Ig extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ig(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)YS(h,p),h=pp(h,p)})(e._query,n),new jo(e.firestore,e.converter,pp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YE(r,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hE(r,new me(s))}if(n instanceof Tt)return hE(r,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function $E(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PO{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Rs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(cS(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends GS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Mt("string",la._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Oh extends la{data(e={}){return super.data(e)}}class So{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Oh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:LO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){r=hi(r,Tt);const e=hi(r.firestore,Ta);return bO(Tg(e),r._key).then((n=>jO(e,r,n)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Mt("string",So._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class XS extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function xg(r){r=hi(r,jo);const e=hi(r.firestore,Ta),n=Tg(e),s=new XS(e);return kO(r._query),SO(n,r._query).then((o=>new So(e,s,r,o)))}function Zh(r,e,n){r=hi(r,Tt);const s=hi(r.firestore,Ta),o=$S(r.converter,e);return xf(s,[BS(Rf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qn.none())])}function WS(r,e,n,...s){r=hi(r,Tt);const o=hi(r.firestore,Ta),u=Rf(o);let h;return h=typeof(e=st(e))=="string"||e instanceof wf?DO(u,"updateDoc",r._key,e,n,s):NO(u,"updateDoc",r._key,e),xf(o,[h.toMutation(r._key,Qn.exists(!0))])}function JS(r){return xf(hi(r.firestore,Ta),[new rg(r._key,Qn.none())])}function ZS(r,e){const n=hi(r.firestore,Ta),s=$n(r),o=$S(r.converter,e);return xf(n,[BS(Rf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function xf(r,e){return(function(s,o){const u=new vr;return s.asyncQueue.enqueueAndForget((async()=>cO(await TO(s),o,u))),u.promise})(Tg(r),e)}function jO(r,e,n){const s=n.docs.get(e._key),o=new XS(r);return new la(r,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function Do(){return new Sg("serverTimestamp")}(function(e,n=!0){(function(o){ko=o})(_a),ha(new gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ta(new Nx(s.getProvider("auth-internal")),new Mx(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pi(J0,Z0,e),Pi(J0,Z0,"esm2020")})();var zO="firebase",BO="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(zO,BO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebasestorage.googleapis.com",tw="storageBucket",qO=120*1e3,HO=600*1e3,FO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Qi{constructor(e,n,s=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function $m(r){return"storage/"+r}function Ng(){const r="An unknown error occurred, please check the error payload for server response.";return new dt(at.UNKNOWN,r)}function GO(r){return new dt(at.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function KO(r){return new dt(at.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(at.UNAUTHENTICATED,r)}function YO(){return new dt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $O(r){return new dt(at.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function nw(){return new dt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iw(){return new dt(at.CANCELED,"User canceled the upload/download.")}function XO(r){return new dt(at.INVALID_URL,"Invalid URL '"+r+"'.")}function WO(r){return new dt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function JO(){return new dt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tw+"' property when initializing the app?")}function rw(){return new dt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZO(){return new dt(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function e4(){return new dt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t4(r){return new dt(at.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cp(r){return new dt(at.INVALID_ARGUMENT,r)}function sw(){return new dt(at.APP_DELETED,"The Firebase app was deleted.")}function n4(r){return new dt(at.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(r,e){return new dt(at.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Yl(r){throw new dt(at.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(s.path==="")return s;throw WO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),j={bucket:1,path:3},q=n===ew?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",Y=new RegExp(`^https?://${q}/${o}/${P}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:M,indices:j,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<ie.length;he++){const Ee=ie[he],ve=Ee.regex.exec(e);if(ve){const I=ve[Ee.indices.bucket];let R=ve[Ee.indices.path];R||(R=""),s=new On(I,R),Ee.postModify(s);break}}if(s==null)throw XO(e);return s}}class i4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function T(P){o=setTimeout(()=>{o=null,r(M,p())},P)}function A(){u&&clearTimeout(u)}function M(P,...Y){if(g){A();return}if(P){A(),v.call(null,P,...Y);return}if(p()||h){A(),v.call(null,P,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let j=!1;function q(P){j||(j=!0,A(),!g&&(o!==null?(P||(m=2),clearTimeout(o),T(0)):P||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,q(!0)},n),q}function s4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(r){return r!==void 0}function o4(r){return typeof r=="function"}function l4(r){return typeof r=="object"&&!Array.isArray(r)}function Nf(r){return typeof r=="string"||r instanceof String}function XE(r){return Dg()&&r instanceof Blob}function Dg(){return typeof Blob<"u"}function WE(r,e,n,s){if(s<e)throw Cp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Cp(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function aw(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ua;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ua||(ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,s,o,u,h,m,p,g,v,T,A=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,q)=>{this.resolve_=j,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ua.NO_ERROR,p=u.getStatus();if(!m||ow(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===ua.ABORT;s(!1,new vh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new vh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());a4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Ng();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?sw():iw();h(p)}else{const p=nw();h(p)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=r4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function c4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function h4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function d4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function m4(r,e,n,s,o,u,h=!0,m=!1){const p=aw(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return f4(v,e),c4(v,n),h4(v,u),d4(v,s),new u4(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function g4(...r){const e=p4();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Dg())return new Blob(r);throw new dt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function y4(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(r){if(typeof atob>"u")throw t4("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,n){this.data=e,this.contentType=n||null}}function v4(r,e){switch(r){case Ui.RAW:return new Xm(lw(e));case Ui.BASE64:case Ui.BASE64URL:return new Xm(uw(r,e));case Ui.DATA_URL:return new Xm(T4(e),b4(e))}throw Ng()}function lw(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function E4(r){let e;try{e=decodeURIComponent(r)}catch{throw ou(Ui.DATA_URL,"Malformed data URL.")}return lw(e)}function uw(r,e){switch(r){case Ui.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_4(e)}catch(o){throw o.message.includes("polyfill")?o:ou(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class cw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=S4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function T4(r){const e=new cw(r);return e.base64?uw(Ui.BASE64,e.rest):E4(e.rest)}function b4(r){return new cw(r).contentType}function S4(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){let s=0,o="";XE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(XE(this.data_)){const s=this.data_,o=y4(s,e,n);return o===null?null:new mr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new mr(s,!0)}}static getBlob(...e){if(Dg()){const n=e.map(s=>s instanceof mr?s.data_:s);return new mr(g4.apply(null,n))}else{const n=e.map(h=>Nf(h)?v4(Ui.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new mr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){let e;try{e=JSON.parse(r)}catch{return null}return l4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function A4(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function fw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(r,e){return e}class un{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||R4}}let Eh=null;function C4(r){return!Nf(r)||r.length<2?r:fw(r)}function Og(){if(Eh)return Eh;const r=[];r.push(new un("bucket")),r.push(new un("generation")),r.push(new un("metageneration")),r.push(new un("name","fullPath",!0));function e(u,h){return C4(h)}const n=new un("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,r.push(o),r.push(new un("timeCreated")),r.push(new un("updated")),r.push(new un("md5Hash",null,!0)),r.push(new un("cacheControl",null,!0)),r.push(new un("contentDisposition",null,!0)),r.push(new un("contentEncoding",null,!0)),r.push(new un("contentLanguage",null,!0)),r.push(new un("contentType",null,!0)),r.push(new un("metadata","customMetadata",!0)),Eh=r,Eh}function I4(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new On(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function x4(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return I4(s,r),s}function dw(r,e,n){const s=hw(e);return s===null?null:x4(r,s,n)}function N4(r,e,n,s){const o=hw(e);if(o===null||!Nf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,T=r.fullPath,A="/b/"+h(v)+"/o/"+h(T),M=zo(A,n,s),j=aw({alt:"media",token:g});return M+j})[0]}function mw(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class ba{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r){if(!r)throw Ng()}function Mg(r,e){function n(s,o){const u=dw(r,o,e);return Er(u!==null),u}return n}function D4(r,e){function n(s,o){const u=dw(r,o,e);return Er(u!==null),N4(u,o,r.host,r._protocol)}return n}function Uu(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=YO():o=QO():n.getStatus()===402?o=KO(r.bucket):n.getStatus()===403?o=$O(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Vg(r){const e=Uu(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=GO(r.path)),u.serverResponse=o.serverResponse,u}return n}function O4(r,e,n){const s=e.fullServerUrl(),o=zo(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new ba(o,u,Mg(r,n),h);return m.errorHandler=Vg(e),m}function M4(r,e,n){const s=e.fullServerUrl(),o=zo(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new ba(o,u,D4(r,n),h);return m.errorHandler=Vg(e),m}function V4(r,e){const n=e.fullServerUrl(),s=zo(n,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function h(p,g){}const m=new ba(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Vg(e),m}function k4(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function pw(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=k4(null,e)),s}function gw(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let he=0;he<2;he++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=pw(e,s,o),v=mw(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=mr.getBlob(T,s,A);if(M===null)throw rw();const j={name:g.fullPath},q=zo(u,r.host,r._protocol),P="POST",Y=r.maxUploadRetryTime,W=new ba(q,P,Mg(r,n),Y);return W.urlParams=j,W.headers=h,W.body=M.uploadData(),W.errorHandler=Uu(e),W}class ef{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function kg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{Er(!1)}return Er(!!n&&(e||["active"]).indexOf(n)!==-1),n}function U4(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=pw(e,s,o),m={name:h.fullPath},p=zo(u,r.host,r._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=mw(h,n),A=r.maxUploadRetryTime;function M(q){kg(q);let P;try{P=q.getResponseHeader("X-Goog-Upload-URL")}catch{Er(!1)}return Er(Nf(P)),P}const j=new ba(p,g,M,A);return j.urlParams=m,j.headers=v,j.body=T,j.errorHandler=Uu(e),j}function P4(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const v=kg(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Er(!1)}T||Er(!1);const A=Number(T);return Er(!isNaN(A)),new ef(A,s.size(),v==="final")}const h="POST",m=r.maxUploadRetryTime,p=new ba(n,h,u,m);return p.headers=o,p.errorHandler=Uu(e),p}const JE=256*1024;function L4(r,e,n,s,o,u,h,m){const p=new ef(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw ZO();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const T=p.current,A=T+v;let M="";v===0?M="finalize":g===v?M="upload, finalize":M="upload";const j={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},q=s.slice(T,A);if(q===null)throw rw();function P(he,Ee){const ve=kg(he,["active","final"]),I=p.current+v,R=s.size();let C;return ve==="final"?C=Mg(e,u)(he,Ee):C=null,new ef(I,R,ve==="final",C)}const Y="POST",W=e.maxUploadRetryTime,ie=new ba(n,Y,P,W);return ie.headers=j,ie.body=q.uploadData(),ie.progressCallback=m||null,ie.errorHandler=Uu(r),ie}const vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wm(r){switch(r){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,s){if(o4(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class z4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Yl("cannot .send() more than once");if(Ss(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class B4 extends z4{initXhr(){this.xhr_.responseType="text"}}function cs(){return new B4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=Og(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(ow(o.status,[]))if(u)o=nw();else{this.sleepTime=Math.max(this.sleepTime*2,FO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=U4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,cs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=P4(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,cs,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=JE*this._chunkMultiplier,n=new ef(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=L4(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,cs,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=O4(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,cs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=gw(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,cs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=iw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Wm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new j4(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Wm(this._state)){case vn.SUCCESS:mo(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:const n=this._reject;mo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Wm(this._state)){case vn.RUNNING:case vn.PAUSED:e.next&&mo(e.next.bind(e,this.snapshot))();break;case vn.SUCCESS:e.complete&&mo(e.complete.bind(e))();break;case vn.CANCELED:case vn.ERROR:e.error&&mo(e.error.bind(e,this._error))();break;default:e.error&&mo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ga(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fw(this._location.path)}get storage(){return this._service}get parent(){const e=w4(this._location.path);if(e===null)return null;const n=new On(this._location.bucket,e);return new ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n4(e)}}function H4(r,e,n){r._throwIfRoot("uploadBytes");const s=gw(r.storage,r._location,Og(),new mr(e,!0),n);return r.storage.makeRequestWithTokens(s,cs).then(o=>({metadata:o,ref:r}))}function F4(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new q4(r,new mr(e),n)}function G4(r){r._throwIfRoot("getDownloadURL");const e=M4(r.storage,r._location,Og());return r.storage.makeRequestWithTokens(e,cs).then(n=>{if(n===null)throw e4();return n})}function K4(r){r._throwIfRoot("deleteObject");const e=V4(r.storage,r._location);return r.storage.makeRequestWithTokens(e,cs)}function Q4(r,e){const n=A4(r._location.path,e),s=new On(r._location.bucket,n);return new ga(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(r){return/^[A-Za-z]+:\/\//.test(r)}function $4(r,e){return new ga(r,e)}function yw(r,e){if(r instanceof Ug){const n=r;if(n._bucket==null)throw JO();const s=new ga(n,n._bucket);return e!=null?yw(s,e):s}else return e!==void 0?Q4(r,e):r}function X4(r,e){if(e&&Y4(e)){if(r instanceof Ug)return $4(r,e);throw Cp("To use ref(service, url), the first argument must be a Storage instance.")}else return yw(r,e)}function ZE(r,e){const n=e?.[tw];return n==null?null:On.makeFromBucketSpec(n,r)}function W4(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ss(e);o&&(Vp(`https://${r.host}/b`),kp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:CT(u,r.app.options.projectId))}class Ug{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ew,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qO,this._maxUploadRetryTime=HO,this._requests=new Set,o!=null?this._bucket=On.makeFromBucketSpec(o,this._host):this._bucket=ZE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=ZE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new i4(sw());{const h=m4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const eT="@firebase/storage",tT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="storage";function J4(r,e,n){return r=st(r),H4(r,e,n)}function vw(r,e,n){return r=st(r),F4(r,e,n)}function Pg(r){return r=st(r),G4(r)}function Z4(r){return r=st(r),K4(r)}function tf(r,e){return r=st(r),X4(r,e)}function eM(r=Lp(),e){r=st(r);const s=of(r,_w).getImmediate({identifier:e}),o=wT("storage");return o&&tM(s,...o),s}function tM(r,e,n,s={}){W4(r,e,n,s)}function nM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Ug(n,s,o,e,_a)}function iM(){ha(new gs(_w,nM,"PUBLIC").setMultipleInstances(!0)),Pi(eT,tT,""),Pi(eT,tT,"esm2020")}iM();const Ew={apiKey:"AIzaSyAqARzs-A-R_OUepYDH9HRHfvxdroHMG84",authDomain:"online-learning-shiksha.firebaseapp.com",projectId:"online-learning-shiksha",storageBucket:"online-learning-shiksha.firebasestorage.app",messagingSenderId:"221443244471",appId:"1:221443244471:web:0dd23477f446c1df032832"};console.log(Ew);const Lg=NT(Ew),Ht=Rx(Lg),rn=AO(Lg),nf=eM(Lg);function rM(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(!1),p=Xn(),g=async v=>{v.preventDefault(),m(!0);try{const A=(await tb(Ht,r,n)).user;await ib(A,{displayName:o}),await Zh($n(rn,"users",A.uid),{name:o,email:r,role:"student",profileImage:"",enrolledCourses:[],createdAt:Do()}),alert("User account created successfully!"),p("/dashboard")}catch(T){console.error("Error creating user:",T),alert(T.message)}finally{m(!1)}};return S.jsx("div",{className:"flex justify-center items-center h-screen bg-mint-50",children:S.jsxs("form",{onSubmit:g,className:"bg-white shadow-md rounded-xl p-8 w-96",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-mint-700",children:"Create Account"}),S.jsx("input",{type:"text",placeholder:"Full Name",className:"border w-full p-2 mb-4 rounded",value:o,onChange:v=>u(v.target.value),required:!0}),S.jsx("input",{type:"email",placeholder:"Email",className:"border w-full p-2 mb-4 rounded",value:r,onChange:v=>e(v.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",className:"border w-full p-2 mb-6 rounded",value:n,onChange:v=>s(v.target.value),required:!0}),S.jsx("button",{disabled:h,type:"submit",className:"bg-mint-500 text-blue-500 hover:bg-amber-300 w-full py-2 rounded hover:bg-mint-600 transition",children:h?"Creating...":"Sign Up"}),S.jsxs("p",{className:"mt-4 text-sm text-center",children:["Already have an account?"," ",S.jsx(it,{to:"/login",className:"text-mint-700 font-medium hover:underline",children:"Log in"})]})]})})}function sM(){const[r,e]=z.useState(""),[n,s]=z.useState(""),o=Xn(),u=async m=>{m.preventDefault();try{const g=(await nb(Ht,r,n)).user,v=$n(rn,"users",g.uid);(await vu(v)).exists()||await Zh(v,{name:g.displayName||"New User",email:g.email,role:"student",profileImage:g.photoURL||"",enrolledCourses:[],createdAt:Do()}),alert("Login successful "),o("/dashboard")}catch(p){alert(p.message)}},h=async()=>{try{const m=new dr,g=(await k2(Ht,m)).user,v=$n(rn,"users",g.uid);(await vu(v)).exists()||await Zh(v,{name:g.displayName||"Google User",email:g.email,role:"student",profileImage:g.photoURL||"",enrolledCourses:[],createdAt:Do()}),alert(`Welcome back, ${g.displayName||"User"}!`),o("/dashboard")}catch(m){alert(m.message)}};return S.jsx("div",{className:"lg:min-h-screen flex flex-col lg:flex-row items-center justify-center p-6 bg-slate-50",children:S.jsxs("div",{className:"grid lg:grid-cols-2 items-center gap-10 max-w-6xl max-lg:max-w-lg w-full",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"lg:text-5xl text-4xl font-bold text-slate-900 leading-tight",children:"Seamless Login for Exclusive Access"}),S.jsx("p",{className:"text-[15px] mt-6 text-slate-600 leading-relaxed",children:"Immerse yourself in a hassle-free login journey with our intuitively designed login form. Effortlessly access your account."}),S.jsxs("p",{className:"text-[15px] mt-6 lg:mt-12 text-slate-600",children:["Dont have an account?",S.jsx(it,{to:"/signup",className:"text-blue-600 font-medium hover:underline ml-1",children:"Register here"})]})]}),S.jsxs("form",{onSubmit:u,className:"max-w-md lg:ml-auto w-full bg-white p-8 rounded-2xl shadow-md",children:[S.jsx("h2",{className:"text-slate-900 text-3xl font-semibold mb-8 text-center",children:"Sign In"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm text-slate-900 font-medium mb-2 block",children:"Email"}),S.jsx("input",{type:"email",required:!0,value:r,onChange:m=>e(m.target.value),className:"bg-slate-100 w-full text-sm text-slate-900 px-4 py-3 rounded-md outline-0 border border-gray-200 focus:border-blue-600 focus:bg-transparent",placeholder:"Enter Email"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm text-slate-900 font-medium mb-2 block",children:"Password"}),S.jsx("input",{type:"password",required:!0,value:n,onChange:m=>s(m.target.value),className:"bg-slate-100 w-full text-sm text-slate-900 px-4 py-3 rounded-md outline-0 border border-gray-200 focus:border-blue-600 focus:bg-transparent",placeholder:"Enter Password"})]}),S.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded"}),S.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-slate-900",children:"Remember me"})]}),S.jsx("div",{className:"text-sm",children:S.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Forgot your password?"})})]})]}),S.jsx("div",{className:"mt-10",children:S.jsx("button",{type:"submit",className:"w-full shadow-xl py-3 px-4 text-[15px] font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition duration-300",children:"Log in"})}),S.jsxs("div",{className:"my-6 flex items-center gap-4",children:[S.jsx("hr",{className:"w-full border-slate-300"}),S.jsx("p",{className:"text-sm text-slate-900 text-center",children:"or"}),S.jsx("hr",{className:"w-full border-slate-300"})]}),S.jsx("div",{className:"space-x-6 flex justify-center",children:S.jsx("button",{type:"button",onClick:h,title:"Login with Google",className:"cursor-pointer",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 512 512",children:[S.jsx("path",{fill:"#fbbd00",d:"M120 256c0-25.367 6.989-49.13 19.131-69.477v-86.308H52.823C18.568 144.703 0 198.922 0 256s18.568 111.297 52.823 155.785h86.308v-86.308C126.989 305.13 120 281.367 120 256z"}),S.jsx("path",{fill:"#0f9d58",d:"m256 392-60 60 60 60c57.079 0 111.297-18.568 155.785-52.823v-86.216h-86.216C305.044 385.147 281.181 392 256 392z"}),S.jsx("path",{fill:"#3c79e6",d:"M512 256a258.24 258.24 0 0 0-4.192-46.377l-2.251-12.299H256v120h121.452a135.385 135.385 0 0 1-51.884 55.638l86.216 86.216a260.085 260.085 0 0 0 25.235-22.158C485.371 388.667 512 324.38 512 256z"}),S.jsx("path",{fill:"#eb4132",d:"M256 120V0C187.62 0 123.333 26.629 74.98 74.98a259.849 259.849 0 0 0-22.158 25.235l86.308 86.308C162.883 146.72 206.376 120 256 120z"})]})})})]})]})})}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),nT=r=>{const e=oM(r);return e.charAt(0).toUpperCase()+e.slice(1)},Tw=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),lM=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>z.createElement("svg",{ref:p,...uM,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Tw("lucide",o),...!u&&!lM(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,v])=>z.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=(r,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(cM,{ref:u,iconNode:e,className:Tw(`lucide-${aM(nT(r))}`,`lucide-${r}`,s),...o}));return n.displayName=nT(r),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],fM=jg("gift",hM);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mM=jg("phone",dM);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gM=jg("search",pM);function yM(){const r=Xn(),[e,n]=z.useState("MERN"),s=async()=>{await rb(Ht),r("/")};return S.jsxs("nav",{className:"bg-linear-to-r from-green-300 to-blue-300 shadow-sm border-b border-gray-50-300 sticky top-0 z-50",children:[S.jsxs("div",{className:"flex justify-between items-center px-6 py-3 max-w-[1350px] mx-auto",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:"/logo.jpg",className:"w-8 h-8"}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsxs("select",{value:e,onChange:o=>n(o.target.value),className:"font-medium text-gray-800 bg-transparent focus:outline-none cursor-pointer",children:[S.jsx("option",{children:"Full Stack Developer"}),S.jsx("option",{children:"CAT & Other MBA Exams"}),S.jsx("option",{children:"UPSC"}),S.jsx("option",{children:"GATE"}),S.jsx("option",{children:"Banking"}),S.jsx("option",{children:"SSC"}),S.jsx("option",{children:"JEE"})]})})]}),S.jsxs("div",{className:"hidden md:flex items-center w-[40%] bg-gray-100 rounded-md px-3 py-2 border border-gray-200",children:[S.jsx(gM,{className:"w-4 h-4 text-gray-500"}),S.jsx("input",{type:"text",placeholder:"Search courses, test series and educators",className:"w-full bg-transparent text-sm ml-2 focus:outline-none text-gray-700"})]}),S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[S.jsx(mM,{className:"w-4 h-4 text-blue-600"}),S.jsxs("div",{className:"text-sm leading-tight",children:[S.jsx("p",{className:"text-gray-400",children:"Talk to our experts"}),S.jsx("a",{href:"tel:+911203628122",className:"text-blue-700 font-medium hover:underline",children:"+911203628122"})]})]}),S.jsx("button",{className:"bg-gray-100 p-2 rounded-full hover:bg-green-100 transition",children:S.jsx(fM,{className:"w-5 h-5 text-green-600"})}),S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"Profile",className:"w-9 h-9 rounded-full border border-gray-300 cursor-pointer"}),S.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-md opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 delay-200 w-36",children:[S.jsx(it,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-green-50",children:"Home"}),S.jsx(it,{to:"/courses",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-green-50",children:"Courses"}),S.jsx(it,{to:"/mylearning",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-green-50",children:"My Learning"}),S.jsx("button",{onClick:s,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Logout"})]})]})]})]}),S.jsxs("div",{className:"flex justify-center gap-8 py-2 border-t border-gray-100 text-sm font-medium text-gray-700",children:[S.jsx(it,{to:"/dashboard",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Get started"}),S.jsx(it,{to:"/educators",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Educators"}),S.jsx(it,{to:"/batch",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Batch"}),S.jsx(it,{to:"/store",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Store"}),S.jsx(it,{to:"/subscription",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Subscription plan"}),S.jsx(it,{to:"/success",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"Success stories"}),S.jsx(it,{to:"/exam",className:"hover:text-blue-700 border-b-2 border-transparent hover:border-green-600 pb-1 transition",children:"About exam"})]})]})}function _M(){const[r,e]=z.useState(null),n=Xn();return z.useEffect(()=>{(async()=>{const o=Ht.currentUser;if(!o){n("/login");return}const u=$n(rn,"users",o.uid),h=await vu(u);h.exists()&&e(h.data())})()},[n]),S.jsxs("div",{className:"bg-mint-50 min-h-screen",children:[S.jsx(yM,{}),S.jsx(it,{to:"/add-course",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-green-600 transition",children:"+ Add Course"}),S.jsx("div",{className:"p-8",children:r?S.jsxs(S.Fragment,{children:[S.jsxs("h1",{className:"text-3xl font-bold text-mint-700 mb-2",children:["Welcome back, ",r.name||"User"," "]}),S.jsxs("p",{className:"text-gray-600",children:["Email: ",r.email]}),S.jsxs("p",{className:"text-gray-600 mb-10",children:["Role: ",r.role]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[S.jsx("h2",{className:"text-xl font-semibold text-mint-700 mb-4",children:"Your Dashboard Overview"}),S.jsx("p",{className:"text-gray-700",children:'Here you can view your enrolled courses, track progress, and continue learning. Explore the "My Learning" tab to get started.'})]})]}):S.jsx("p",{children:"Loading user data..."})})]})}function vM(){return S.jsxs("div",{className:"p-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-mint-700",children:"Courses"}),S.jsx("p",{className:"text-gray-600 mt-4",children:"All available courses will appear here."})]})}function EM(){return S.jsxs("div",{className:"p-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-mint-700",children:"My Learning"}),S.jsx("p",{className:"text-gray-600 mt-4",children:"Your enrolled courses will appear here."})]})}function TM(){return S.jsxs("section",{className:"pt-24 md:pt-32 pb-20 px-6 md:px-20 bg-linear-to-r am from-white  to-blue-300 flex flex-col md:flex-row items-center justify-between",children:[S.jsxs("div",{className:"max-w-xl",children:[S.jsxs("h1",{className:"text-5xl font-bold text-black leading-tight",children:["Crack your goal with ",S.jsx("span",{className:"text-blue-500",children:"Shiksha"})]}),S.jsx("p",{className:"text-gray-600 mt-4",children:"Learn from top educators, practice with live tests, and achieve your dream."}),S.jsxs("div",{className:"mt-6 flex space-x-4",children:[S.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700",children:"Get Started"}),S.jsx("button",{className:"border border-blue-600 text-blue-600 px-6 py-3 rounded-md hover:bg-blue-400",children:"Explore Courses"})]})]}),S.jsx("img",{src:"https://images.unsplash.com/photo-1501504905252-473c47e087f8?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=774",alt:"learning",className:"w-96 md:w-[500px] mt-10 md:mt-0 border-none rounded-xl"})]})}function bM({title:r,educator:e,image:n}){return S.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-lg transition p-4 w-72",children:[S.jsx("img",{src:n,alt:r,className:"rounded-xl mb-3"}),S.jsx("h3",{className:"font-semibold text-gray-800",children:r}),S.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["by ",e]}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Enroll Now"})]})}function SM(){return S.jsxs("nav",{className:"flex justify-between items-center px-8 py-4 shadow-sm bg-linear-to-r from-green-500 to-blue-400 fixed top-0 w-full z-50",children:[S.jsx("div",{className:"text-2xl font-bold text-white",children:"Shiksha"}),S.jsxs("ul",{className:"hidden md:flex space-x-8 text-gray-700 font-medium",children:[S.jsx("li",{children:S.jsx(it,{to:"/",children:"Home"})}),S.jsx("li",{children:S.jsx(it,{to:"/courses",children:"Courses"})}),S.jsx("li",{children:S.jsx(it,{to:"/dashboard",children:"My Learning"})}),S.jsx("li",{children:S.jsx(it,{to:"/login",children:"Login"})}),S.jsx("li",{children:S.jsx(it,{to:"/educator-login",children:"Login Educator"})})]}),S.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 hidden md:block",children:"Join for Free"})]})}function wM(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(!1),h=Xn(),m=async p=>{p.preventDefault(),u(!0);try{const v=(await nb(Ht,r,n)).user,T=$n(rn,"users",v.uid),A=await vu(T);A.exists()&&A.data().role==="educator"?(alert("Welcome Educator "),h("/educator-dashboard")):(alert("Access denied. Not an educator account "),await Ht.signOut())}catch(g){alert(g.message)}finally{u(!1)}};return S.jsxs("div",{className:"min-h-screen flex justify-center items-center bg-gray-50",children:[S.jsxs("form",{onSubmit:m,className:"bg-white p-8 shadow-md rounded-xl w-full max-w-md",children:[S.jsx("h2",{className:"text-2xl font-semibold text-blue-600 text-center mb-6",children:"Educator Login"}),S.jsx("input",{type:"email",placeholder:"Email",className:"border border-gray-300 w-full p-2 mb-4 rounded focus:ring-2 focus:ring-green-500 outline-none",value:r,onChange:p=>e(p.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",className:"border border-gray-300 w-full p-2 mb-6 rounded focus:ring-2 focus:ring-green-500 outline-none",value:n,onChange:p=>s(p.target.value),required:!0}),S.jsx("button",{disabled:o,className:"w-full bg-blue-600 text-white py-2 rounded-md font-medium hover:bg-green-600 transition",children:o?"Logging in...":"Login as Educator"})]}),S.jsxs("p",{className:"text-sm text-center mt-5 text-gray-600",children:["New educator?"," ",S.jsx(it,{to:"/educator-signup",className:"text-blue-700 font-medium hover:underline",children:"Sign up here"})]})]})}function AM(){const r=[{title:"Master Full Stack Development",educator:"Himanshu Pratap",image:"https://img.freepik.com/free-photo/coding-man_1098-18084.jpg"},{title:"Python for Data Science",educator:"Anjali Sharma",image:"https://img.freepik.com/free-photo/data-scientist_53876-126261.jpg"},{title:"React from Zero to Hero",educator:"Angela  Yu",image:"https://img.freepik.com/free-photo/frontend-developer_1098-17984.jpg"}];return S.jsxs(S.Fragment,{children:[S.jsx(SM,{}),S.jsx(TM,{}),S.jsxs("section",{className:"py-20 px-6 md:px-20 bg-gray-50",children:[S.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-gray-800",children:"Explore Popular Courses"}),S.jsx("div",{className:"flex flex-wrap justify-center gap-10",children:r.map((e,n)=>S.jsx(bM,{...e},n))})]})]})}function RM(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(null),[v,T]=z.useState(null),[A,M]=z.useState(!1),j=Xn(),q=async(Y,W)=>{const ie=tf(nf,`${W}/${Y.name}`),he=vw(ie,Y);return new Promise((Ee,ve)=>{he.on("state_changed",null,I=>ve(I),async()=>{const I=await Pg(he.snapshot.ref);Ee(I)})})},P=async Y=>{if(Y.preventDefault(),!r||!n||!o||!h){alert("Please fill all required fields.");return}M(!0);try{const W=Ht.currentUser;if(!W){alert("You must be logged in to add a course.");return}let ie="",he="";p&&(ie=await q(p,`thumbnails/${W.uid}`)),v&&(he=await q(v,`courseVideos/${W.uid}`)),await ZS(_u(rn,"courses"),{educatorId:W.uid,title:r,description:n,price:Number(o),category:h,thumbnail:ie,videoUrl:he,createdAt:Do()}),alert(" Course added successfully!"),j("/educator-dashboard")}catch(W){console.error("Error adding course:",W),alert("Error uploading course: "+W.message)}finally{M(!1)}};return S.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center p-6",children:S.jsxs("form",{onSubmit:P,className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-2xl border",children:[S.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Add New Course"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Title"}),S.jsx("input",{type:"text",placeholder:"Course title",value:r,onChange:Y=>e(Y.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),S.jsx("textarea",{placeholder:"Write a short description...",value:n,onChange:Y=>s(Y.target.value),className:"w-full border border-gray-300 rounded-md p-2 h-24 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Category"}),S.jsxs("select",{value:h,onChange:Y=>m(Y.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0,children:[S.jsx("option",{value:"",children:"Select category"}),S.jsx("option",{value:"Web Development",children:"Web Development"}),S.jsx("option",{value:"Programming",children:"Programming"}),S.jsx("option",{value:"Design",children:"Design"}),S.jsx("option",{value:"Data Science",children:"Data Science"}),S.jsx("option",{value:"Business",children:"Business"})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Price ()"}),S.jsx("input",{type:"number",placeholder:"Enter price",value:o,onChange:Y=>u(Y.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Thumbnail Image"}),S.jsx("input",{type:"file",accept:"image/*",onChange:Y=>g(Y.target.files[0]),className:"w-full"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Intro Video (optional)"}),S.jsx("input",{type:"file",accept:"video/*",onChange:Y=>T(Y.target.files[0]),className:"w-full"})]}),S.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-600 text-white py-2 rounded-md font-medium hover:bg-green-600 transition",children:A?"Uploading...":"Add Course"})]})})}function CM(){const[r,e]=z.useState([]),[n,s]=z.useState(null),[o,u]=z.useState({totalCourses:0,totalStudents:0,avgRating:0,totalEarnings:0}),h=Xn();z.useEffect(()=>{const v=Ht.currentUser;if(!v){h("/educator-login");return}s(v),m(v.uid)},[h]);const m=async v=>{const T=KS(_u(rn,"courses"),QS("educatorId","==",v)),M=(await xg(T)).docs.map(j=>({id:j.id,...j.data()}));e(M),p(M)},p=v=>{if(!v.length)return;const T=v.length,A=v.reduce((q,P)=>q+(P.students?P.students.length:0),0),M=v.reduce((q,P)=>q+(P.rating||0),0)/T,j=v.reduce((q,P)=>q+(P.students?(P.students.length||0)*(P.price||0):0),0);u({totalCourses:T,totalStudents:A,avgRating:M.toFixed(1),totalEarnings:j})},g=async()=>{await rb(Ht),h("/educator-login")};return S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsxs("div",{className:"bg-white border-b p-4 flex justify-between items-center shadow-sm",children:[S.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Educator Dashboard"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(it,{to:"/add-course",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:"+ Add Course"}),S.jsx("button",{onClick:g,className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition",children:"Logout"})]})]}),S.jsxs("div",{className:"p-6",children:[S.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Welcome, ",n?.email]}),S.jsx("p",{className:"text-gray-600 mb-6",children:"Heres your course summary:"}),S.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600",children:[S.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Courses"}),S.jsx("p",{className:"text-3xl font-bold text-blue-700",children:o.totalCourses})]}),S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-600",children:[S.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Students"}),S.jsx("p",{className:"text-3xl font-bold text-green-700",children:o.totalStudents})]}),S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:[S.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Avg Rating"}),S.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o.avgRating})]}),S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-600",children:[S.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Earnings"}),S.jsxs("p",{className:"text-3xl font-bold text-purple-700",children:["",o.totalEarnings]})]})]}),r.length===0?S.jsx("p",{className:"text-gray-500",children:"No courses added yet."}):S.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border hover:shadow-lg transition",children:[S.jsx("img",{src:v.thumbnail||"https://img.freepik.com/free-photo/online-learning-concept_23-2148685630.jpg",alt:v.title,className:"rounded-md mb-3 w-full h-40 object-cover"}),S.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-1",children:v.title}),S.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[v.category,"  ",v.price]}),S.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:["Students: ",v.students?v.students.length:0]}),S.jsxs("p",{className:"text-gray-500 text-sm",children:["Rating: ",v.rating||"N/A"]})]},v.id))})]}),S.jsxs("div",{children:[S.jsx(it,{to:"/manage-course",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-green-600 transition",children:"Manage Courses"}),S.jsx(it,{to:"/educator-profile",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition",children:"Profile"})]})]})}function IM(){const[r,e]=z.useState([]),[n,s]=z.useState(null),[o,u]=z.useState({title:"",description:"",price:"",category:""}),h=Xn();z.useEffect(()=>{const T=Ht.currentUser;if(!T){h("/educator-login");return}m(T.uid)},[h]);const m=async T=>{const A=KS(_u(rn,"courses"),QS("educatorId","==",T)),j=(await xg(A)).docs.map(q=>({id:q.id,...q.data()}));e(j)},p=async T=>{window.confirm("Are you sure you want to delete this course?")&&(await JS($n(rn,"courses",T)),alert("Course deleted successfully"),e(r.filter(M=>M.id!==T)))},g=T=>{s(T.id),u({title:T.title,description:T.description,price:T.price,category:T.category})},v=async T=>{T.preventDefault(),await WS($n(rn,"courses",n),{...o,price:Number(o.price)}),alert("Course updated successfully "),s(null),m(Ht.currentUser.uid)};return S.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[S.jsxs("div",{className:"bg-white border-b shadow-sm p-4 flex justify-between items-center",children:[S.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Manage Your Courses"}),S.jsx("button",{onClick:()=>h("/educator-dashboard"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:" Back to Dashboard"})]}),S.jsx("div",{className:"mt-6 grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(T=>S.jsxs("div",{className:"bg-white shadow-md rounded-xl p-4 border hover:shadow-lg transition",children:[S.jsx("img",{src:T.thumbnail||"https://img.freepik.com/free-photo/online-learning-concept_23-2148685630.jpg",alt:T.title,className:"rounded-md mb-3 w-full h-40 object-cover"}),n===T.id?S.jsxs("form",{onSubmit:v,children:[S.jsx("input",{type:"text",value:o.title,onChange:A=>u({...o,title:A.target.value}),className:"w-full border rounded-md p-2 mb-2"}),S.jsx("textarea",{value:o.description,onChange:A=>u({...o,description:A.target.value}),className:"w-full border rounded-md p-2 mb-2"}),S.jsx("input",{type:"number",value:o.price,onChange:A=>u({...o,price:A.target.value}),className:"w-full border rounded-md p-2 mb-2"}),S.jsxs("select",{value:o.category,onChange:A=>u({...o,category:A.target.value}),className:"w-full border rounded-md p-2 mb-4",children:[S.jsx("option",{value:"Web Development",children:"Web Development"}),S.jsx("option",{value:"Programming",children:"Programming"}),S.jsx("option",{value:"Design",children:"Design"}),S.jsx("option",{value:"Data Science",children:"Data Science"}),S.jsx("option",{value:"Business",children:"Business"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{type:"button",onClick:()=>s(null),className:"bg-gray-300 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancel"}),S.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Update"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-1",children:T.title}),S.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[T.category,"  ",T.price]}),S.jsxs("p",{className:"text-gray-500 text-sm mb-3",children:[T.description.slice(0,80),"..."]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{onClick:()=>g(T),className:"bg-blue-500 text-white px-4 py-1 rounded-md hover:bg-green-600",children:"Edit"}),S.jsx("button",{onClick:()=>p(T.id),className:"bg-red-500 text-white px-4 py-1 rounded-md hover:bg-red-600",children:"Delete"})]})]})]},T.id))}),S.jsx("div",{children:S.jsx(Link,{to:`/manage-lessons/${course.id}`,className:"bg-purple-600 text-white px-4 py-1 rounded-md hover:bg-purple-700 transition",children:"Lessons"})})]})}function xM(){const{courseId:r}=j1(),e=Xn(),[n,s]=z.useState([]),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(null),[v,T]=z.useState(!1);z.useEffect(()=>{if(!Ht.currentUser){e("/educator-login");return}A()},[r,e]);const A=async()=>{const q=_u(rn,"courses",r,"lessons"),Y=(await xg(q)).docs.map(W=>({id:W.id,...W.data()}));s(Y)},M=async q=>{if(q.preventDefault(),!o||!p){alert("Please enter title and choose a video file.");return}try{T(!0);const P=tf(nf,`lessons/${r}/${p.name}`),Y=vw(P,p);Y.on("state_changed",null,W=>{alert("Upload failed: "+W.message),T(!1)},async()=>{const W=await Pg(Y.snapshot.ref);await ZS(_u(rn,"courses",r,"lessons"),{title:o,description:h,videoUrl:W,createdAt:Do()}),alert(" Lesson uploaded successfully!"),u(""),m(""),g(null),T(!1),A()})}catch(P){alert(P.message),T(!1)}},j=async(q,P)=>{if(!window.confirm("Are you sure you want to delete this lesson?"))return;await JS($n(rn,"courses",r,"lessons",q));const W=tf(nf,P);await Z4(W),alert("Lesson deleted successfully!"),A()};return S.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[S.jsxs("div",{className:"bg-white border-b shadow-sm p-4 flex justify-between items-center",children:[S.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"Manage Lessons"}),S.jsx("button",{onClick:()=>e("/educator-dashboard"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:" Back to Dashboard"})]}),S.jsxs("div",{className:"max-w-2xl mx-auto mt-6 bg-white p-6 rounded-lg shadow-md",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Lesson"}),S.jsxs("form",{onSubmit:M,children:[S.jsx("input",{type:"text",placeholder:"Lesson Title",value:o,onChange:q=>u(q.target.value),className:"w-full border rounded-md p-2 mb-3",required:!0}),S.jsx("textarea",{placeholder:"Lesson Description (optional)",value:h,onChange:q=>m(q.target.value),className:"w-full border rounded-md p-2 mb-3"}),S.jsx("input",{type:"file",accept:"video/*",onChange:q=>g(q.target.files[0]),className:"mb-4"}),S.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-green-600 transition",children:v?"Uploading...":"Upload Lesson"})]})]}),S.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:n.map(q=>S.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border hover:shadow-lg transition",children:[S.jsx("video",{src:q.videoUrl,controls:!0,className:"w-full rounded-md mb-3"}),S.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-1",children:q.title}),S.jsx("p",{className:"text-gray-600 text-sm mb-2",children:q.description}),S.jsx("button",{onClick:()=>j(q.id,q.videoUrl),className:"bg-red-500 text-white px-4 py-1 rounded-md hover:bg-red-600",children:"Delete"})]},q.id))})]})}function NM(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(""),[v,T]=z.useState(!1),A=Xn(),M=async j=>{j.preventDefault(),T(!0);try{const P=(await tb(Ht,n,o)).user;await ib(P,{displayName:r}),await Zh($n(rn,"users",P.uid),{name:r,email:n,subject:h,bio:p,role:"educator",createdAt:Do()}),alert(" Signup successful! Welcome, Educator!"),A("/educator-dashboard")}catch(q){console.error("Signup error:",q),alert(q.message)}finally{T(!1)}};return S.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:S.jsxs("form",{onSubmit:M,className:"bg-white p-8 shadow-lg rounded-xl w-full max-w-md",children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-blue-600 mb-6",children:"Educator Signup"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Full Name"}),S.jsx("input",{type:"text",placeholder:"Enter your full name",value:r,onChange:j=>e(j.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),S.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),S.jsx("input",{type:"password",placeholder:"Create a strong password",value:o,onChange:j=>u(j.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Subject Expertise"}),S.jsx("input",{type:"text",placeholder:"e.g., Mathematics, Science, ReactJS",value:h,onChange:j=>m(j.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Short Bio"}),S.jsx("textarea",{placeholder:"Write a short bio about yourself",value:p,onChange:j=>g(j.target.value),className:"w-full border border-gray-300 rounded-md p-2 h-24 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-2 rounded-md font-medium hover:bg-green-600 transition",children:v?"Creating Account...":"Sign Up as Educator"}),S.jsxs("p",{className:"text-sm text-center mt-5 text-gray-600",children:["Already registered?"," ",S.jsx(it,{to:"/educator-login",className:"text-blue-700 font-medium hover:underline",children:"Login here"})]})]})})}function DM(){const[r,e]=z.useState({name:"",email:"",subject:"",bio:"",photoURL:""}),[n,s]=z.useState(null),[o,u]=z.useState(!0),[h,m]=z.useState(!1),p=Xn();z.useEffect(()=>{(async()=>{const A=Ht.currentUser;if(!A){p("/educator-login");return}const M=$n(rn,"users",A.uid),j=await vu(M);j.exists()?e(j.data()):alert("Profile not found!"),u(!1)})()},[p]);const g=async()=>{if(!n)return r.photoURL;const T=Ht.currentUser,A=tf(nf,`profilePictures/${T.uid}`);return await J4(A,n),await Pg(A)},v=async T=>{T.preventDefault(),m(!0);try{const A=Ht.currentUser,M=await g(),j=$n(rn,"users",A.uid);await WS(j,{name:r.name,subject:r.subject,bio:r.bio,photoURL:M}),alert(" Profile updated successfully!"),p("/educator-dashboard")}catch(A){console.error("Error updating profile:",A),alert("Error updating profile!")}finally{m(!1)}};return o?S.jsx("p",{className:"text-center mt-10",children:"Loading profile..."}):S.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex justify-center items-center",children:S.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-2xl border",children:[S.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"My Profile"}),S.jsxs("div",{className:"flex flex-col items-center mb-6",children:[S.jsx("img",{src:r.photoURL||"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-blue-500 object-cover mb-3"}),S.jsx("input",{type:"file",accept:"image/*",onChange:T=>s(T.target.files[0]),className:"text-sm"})]}),S.jsxs("form",{onSubmit:v,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Full Name"}),S.jsx("input",{type:"text",value:r.name,onChange:T=>e({...r,name:T.target.value}),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),S.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full border border-gray-200 rounded-md p-2 bg-gray-100 cursor-not-allowed"})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Subject Expertise"}),S.jsx("input",{type:"text",value:r.subject,onChange:T=>e({...r,subject:T.target.value}),className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Bio"}),S.jsx("textarea",{value:r.bio,onChange:T=>e({...r,bio:T.target.value}),className:"w-full border border-gray-300 rounded-md p-2 h-24 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-2 rounded-md font-medium hover:bg-green-600 transition",children:h?"Saving...":"Save Changes"})]})]})})}function OM(){return S.jsx(SR,{children:S.jsxs(eR,{children:[S.jsx(yn,{path:"/",element:S.jsx(AM,{})}),S.jsx(yn,{path:"/login",element:S.jsx(sM,{})}),S.jsx(yn,{path:"/signup",element:S.jsx(rM,{})}),S.jsx(yn,{path:"/dashboard",element:S.jsx(_M,{})}),S.jsx(yn,{path:"/courses",element:S.jsx(vM,{})}),S.jsx(yn,{path:"/mylearning",element:S.jsx(EM,{})}),S.jsx(yn,{path:"/add-course",element:S.jsx(RM,{})}),S.jsx(yn,{path:"/educator-login",element:S.jsx(wM,{})}),S.jsx(yn,{path:"/educator-dashboard",element:S.jsx(CM,{})}),S.jsx(yn,{path:"/manage-course",element:S.jsx(IM,{})}),S.jsx(yn,{path:"/manage-lessons/:courseId",element:S.jsx(xM,{})}),S.jsx(yn,{path:"/educator-signup",element:S.jsx(NM,{})}),S.jsx(yn,{path:"/educator-profile",element:S.jsx(DM,{})})]})})}const MM=z.createContext(),VM=({children:r})=>{const[e,n]=z.useState(null),[s,o]=z.useState(!0);return z.useEffect(()=>{const u=p2(Ht,h=>{n(h),o(!1)});return()=>u()},[]),S.jsx(MM.Provider,{value:{user:e,loading:s},children:r})};u1.createRoot(document.getElementById("root")).render(S.jsx(t1.StrictMode,{children:S.jsx(VM,{children:S.jsx(OM,{})})}));
